{"version":3,"file":"PersonaCoin.state.js","sourceRoot":"../src/","sources":["components/PersonaCoin/PersonaCoin.state.ts"],"names":[],"mappings":";;;IAIa,QAAA,mBAAmB,GAAmC,UAAA,KAAK;QACtE,wGAAwG;QACxG,8BAA8B;QACxB,IAAA,4BAAuD,EAAtD,uBAAe,EAAE,0BAAqC,CAAC;QAEtD,IAAA,2DAAyB,CAAW;QAE5C,IAAM,0BAA0B,GAAG,mBAAW,CAC5C,UAAC,iBAAiC;YAChC,IAAI,yBAAyB,EAAE;gBAC7B,yBAAyB,CAAC,iBAAiB,CAAC,CAAC;aAC9C;YAED,kBAAkB,CAAC,iBAAiB,KAAK,uCAAc,CAAC,MAAM,CAAC,CAAC;QAClE,CAAC,EACD,CAAC,yBAAyB,CAAC,CAC5B,CAAC;QAEF,IAAM,SAAS,yCACV,KAAK,KACR,eAAe,iBAAA,EACf,yBAAyB,EAAE,0BAA0B,GACtD,CAAC;QAEF,OAAO,SAAS,CAAC;IACnB,CAAC,CAAC","sourcesContent":["import { useCallback, useState } from 'react';\nimport { ImageLoadState } from 'office-ui-fabric-react';\nimport { IPersonaCoinViewProps, IPersonaCoinComponent } from './PersonaCoin.types';\n\nexport const usePersonaCoinState: IPersonaCoinComponent['state'] = props => {\n  // TODO: isPictureLoaded was controlled, does it need to be? it's not exposed through component props...\n  //       For now use useState.\n  const [isPictureLoaded, setIsPictureLoaded] = useState(false);\n\n  const { onPhotoLoadingStateChange } = props;\n\n  const _onPhotoLoadingStateChange = useCallback(\n    (newImageLoadState: ImageLoadState): void => {\n      if (onPhotoLoadingStateChange) {\n        onPhotoLoadingStateChange(newImageLoadState);\n      }\n\n      setIsPictureLoaded(newImageLoadState === ImageLoadState.loaded);\n    },\n    [onPhotoLoadingStateChange],\n  );\n\n  const viewProps: IPersonaCoinViewProps = {\n    ...props,\n    isPictureLoaded,\n    onPhotoLoadingStateChange: _onPhotoLoadingStateChange,\n  };\n\n  return viewProps;\n};\n"]}