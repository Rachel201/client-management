{"version":3,"file":"Coachmark.js","sourceRoot":"../src/","sources":["components/Coachmark/Coachmark.tsx"],"names":[],"mappings":"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","sourcesContent":["// Utilities\nimport * as React from 'react';\nimport { BaseComponent, classNamesFunction, createRef, IRectangle, KeyCodes, shallowCompare } from '../../Utilities';\nimport { DefaultPalette } from '../../Styling';\nimport { IPositionedData, RectangleEdge, getOppositeEdge } from '../../utilities/positioning';\n\n// Component Dependencies\nimport { PositioningContainer, IPositioningContainer } from './PositioningContainer/index';\nimport { Beak, BEAK_HEIGHT, BEAK_WIDTH } from './Beak/Beak';\nimport { DirectionalHint } from '../../common/DirectionalHint';\n\n// Coachmark\nimport { ICoachmarkTypes } from './Coachmark.types';\nimport {\n  COACHMARK_HEIGHT,\n  COACHMARK_WIDTH,\n  getStyles,\n  ICoachmarkStyles,\n  ICoachmarkStyleProps\n} from './Coachmark.styles';\nimport { FocusTrapZone } from '../FocusTrapZone';\n\nconst getClassNames = classNamesFunction<ICoachmarkStyleProps, ICoachmarkStyles>();\n\nexport const COACHMARK_ATTRIBUTE_NAME = 'data-coachmarkid';\n\n/**\n * An interface for the cached dimensions of entity inner host.\n */\nexport interface IEntityRect {\n  width: number;\n  height: number;\n}\n\nexport interface ICoachmarkState {\n  /**\n   * Is the Coachmark currently collapsed into\n   * a tear drop shape\n   */\n  isCollapsed: boolean;\n\n  /**\n   * Enables/Disables the beacon that radiates\n   * from the center of the coachmark.\n   */\n  isBeaconAnimating: boolean;\n\n  /**\n   * Is the teaching bubble currently retreiving the\n   * original dimensions of the hosted entity.\n   */\n  isMeasuring: boolean;\n\n  /**\n   * Is the Coachmark done measuring the hosted entity\n   */\n  isMeasured: boolean;\n\n  /**\n   * Cached width and height of _entityInnerHostElement\n   */\n  entityInnerHostRect: IEntityRect;\n\n  /**\n   * Is the mouse in proximity of the default target element\n   */\n  isMouseInProximity: boolean;\n\n  /**\n   * The left position of the beak\n   */\n  beakLeft?: string;\n\n  /**\n   * The right position of the beak\n   */\n  beakTop?: string;\n\n  /**\n   * The right position of the beak\n   */\n  beakRight?: string;\n\n  /**\n   * The bottom position of the beak\n   */\n  beakBottom?: string;\n\n  /**\n   * Alignment edge of callout in relation to target\n   */\n  targetAlignment?: RectangleEdge;\n\n  /**\n   * Position of Coachmark/TeachingBubble in relation to target\n   */\n  targetPosition?: RectangleEdge;\n\n  /**\n   * Transform origin of teaching bubble callout\n   */\n  transformOrigin?: string;\n\n  /**\n   * ARIA alert text to read aloud with Narrator once the Coachmark is mounted\n   */\n  alertText?: string;\n}\n\nexport class Coachmark extends BaseComponent<ICoachmarkTypes, ICoachmarkState> {\n  public static defaultProps: Partial<ICoachmarkTypes> = {\n    isCollapsed: true,\n    mouseProximityOffset: 10,\n    delayBeforeMouseOpen: 3600, // The approximate time the coachmark shows up\n    color: DefaultPalette.themePrimary,\n    isPositionForced: true,\n    positioningContainerProps: {\n      directionalHint: DirectionalHint.bottomAutoEdge,\n    }\n  };\n\n  /**\n   * The cached HTMLElement reference to the Entity Inner Host\n   * element.\n   */\n  private _entityHost = createRef<HTMLDivElement>();\n  private _entityInnerHostElement = createRef<HTMLDivElement>();\n  private _translateAnimationContainer = createRef<HTMLDivElement>();\n  private _ariaAlertContainer = createRef<HTMLDivElement>();\n  private _childrenContainer = createRef<HTMLDivElement>();\n  private _positioningContainer = createRef<IPositioningContainer>();\n\n  /**\n   * The target element the mouse would be in\n   * proximity to\n   */\n  private _targetElementRect: ClientRect;\n\n  constructor(props: ICoachmarkTypes) {\n    super(props);\n\n    // Set defaults for state\n    this.state = {\n      isCollapsed: props.isCollapsed!,\n      isBeaconAnimating: true,\n      isMeasuring: true,\n      entityInnerHostRect: {\n        width: 0,\n        height: 0\n      },\n      isMouseInProximity: false,\n      isMeasured: false\n    };\n  }\n\n  private get _beakDirection(): RectangleEdge {\n    const { targetPosition } = this.state;\n    if (targetPosition === undefined) {\n      return RectangleEdge.bottom;\n    }\n\n    return getOppositeEdge(targetPosition);\n  }\n\n  public render(): JSX.Element {\n    const {\n      children,\n      target,\n      color,\n      positioningContainerProps,\n      ariaDescribedBy,\n      ariaDescribedByText,\n      ariaLabelledBy,\n      ariaLabelledByText,\n      ariaAlertText\n    } = this.props;\n\n    const {\n      beakLeft,\n      beakTop,\n      beakRight,\n      beakBottom,\n      isCollapsed,\n      isBeaconAnimating,\n      isMeasuring,\n      entityInnerHostRect,\n      transformOrigin,\n      alertText,\n      isMeasured\n    } = this.state;\n\n    const classNames = getClassNames(getStyles, {\n      isCollapsed: isCollapsed,\n      isBeaconAnimating: isBeaconAnimating,\n      isMeasuring: isMeasuring,\n      entityHostHeight: `${entityInnerHostRect.height}px`,\n      entityHostWidth: `${entityInnerHostRect.width}px`,\n      width: `${COACHMARK_WIDTH}px`,\n      height: `${COACHMARK_HEIGHT}px`,\n      color: color,\n      transformOrigin: transformOrigin,\n      isMeasured: isMeasured\n    });\n\n    const finalHeight: number = isCollapsed ? COACHMARK_HEIGHT : entityInnerHostRect.height;\n\n    return (\n      <PositioningContainer\n        target={ target }\n        offsetFromTarget={ BEAK_HEIGHT }\n        componentRef={ this._positioningContainer }\n        finalHeight={ finalHeight }\n        onPositioned={ this._onPositioned }\n        bounds={ this._getBounds() }\n        { ...positioningContainerProps }\n      >\n        <div className={ classNames.root }>\n          { ariaAlertText && (\n            <div\n              className={ classNames.ariaContainer }\n              role='alert'\n              ref={ this._ariaAlertContainer }\n              aria-hidden={ !isCollapsed }\n            >\n              { alertText }\n            </div>\n          )}\n          <div className={classNames.pulsingBeacon} />\n          <div className={classNames.translateAnimationContainer} ref={this._translateAnimationContainer}>\n            <div className={classNames.scaleAnimationLayer}>\n              <div className={classNames.rotateAnimationLayer}>\n                {this._positioningContainer.current &&\n                  isCollapsed && (\n                    <Beak\n                      left={beakLeft}\n                      top={beakTop}\n                      right={beakRight}\n                      bottom={beakBottom}\n                      direction={this._beakDirection}\n                      color={color}\n                    />\n                  )}\n                <div\n                  className={classNames.entityHost}\n                  ref={this._entityHost}\n                  tabIndex={-1}\n                  data-is-focusable={true}\n                  role='dialog'\n                  aria-labelledby={ariaLabelledBy}\n                  aria-describedby={ariaDescribedBy}\n                >\n                  {isCollapsed && [\n                    ariaLabelledBy && (\n                      <p id={ariaLabelledBy} key={0} className={classNames.ariaContainer}>\n                        {ariaLabelledByText}\n                      </p>\n                    ),\n                    ariaDescribedBy && (\n                      <p id={ariaDescribedBy} key={1} className={classNames.ariaContainer}>\n                        {ariaDescribedByText}\n                      </p>\n                    )\n                  ]}\n                  <FocusTrapZone isClickableOutsideFocusTrap={true} forceFocusInsideTrap={false}>\n                    <div className={classNames.entityInnerHost} ref={this._entityInnerHostElement}>\n                      <div\n                        className={classNames.childrenContainer}\n                        ref={this._childrenContainer}\n                        aria-hidden={isCollapsed}\n                      >\n                        {children}\n                      </div>\n                    </div>\n                  </FocusTrapZone>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </PositioningContainer>\n    );\n  }\n\n  public componentWillReceiveProps(newProps: ICoachmarkTypes): void {\n    if (this.props.isCollapsed && !newProps.isCollapsed) {\n      // The coachmark is about to open\n      this._openCoachmark();\n    }\n  }\n\n  public shouldComponentUpdate(newProps: ICoachmarkTypes, newState: ICoachmarkState): boolean {\n    return !shallowCompare(newProps, this.props) || !shallowCompare(newState, this.state);\n  }\n\n  public componentDidUpdate(prevProps: ICoachmarkTypes, prevState: ICoachmarkState): void {\n    if (prevState.targetAlignment !== this.state.targetAlignment || prevState.targetPosition !== this.state.targetPosition) {\n      this._setBeakPosition();\n    }\n  }\n\n  public componentDidMount(): void {\n    this._async.requestAnimationFrame(\n      (): void => {\n        if (\n          this._entityInnerHostElement.current &&\n          this.state.entityInnerHostRect.width + this.state.entityInnerHostRect.width === 0\n        ) {\n          this.setState({\n            isMeasuring: false,\n            entityInnerHostRect: {\n              width: this._entityInnerHostElement.current.offsetWidth,\n              height: this._entityInnerHostElement.current.offsetHeight\n            },\n            isMeasured: true\n          });\n          this._setBeakPosition();\n          this.forceUpdate();\n        }\n\n        this._events.on(document, 'keydown', this._onKeyDown, true);\n\n        // We dont want to the user to immediatley trigger the coachmark when it's opened\n        this._async.setTimeout(() => {\n          this._addProximityHandler(this.props.mouseProximityOffset);\n        }, this.props.delayBeforeMouseOpen!);\n\n        // Need to add setTimeout to have narrator read change in alert container\n        if (this.props.ariaAlertText) {\n          this._async.setTimeout(() => {\n            if (this.props.ariaAlertText && this._ariaAlertContainer.current) {\n              this.setState({\n                alertText: this.props.ariaAlertText\n              });\n            }\n          }, 0);\n        }\n        this._async.setTimeout(() => {\n          if (this._entityHost.current) {\n            this._entityHost.current.focus();\n          }\n        }, 1000);\n      }\n    );\n  }\n\n  public componentWillUnmount(): void {\n    this._events.off(document, 'keydown', this._onKeyDown, true);\n  }\n\n  private _onKeyDown = (e: any): void => {\n    // Open coachmark if user presses ALT + C (arbitrary keypress for now)\n    if (\n      (e.altKey && e.which === KeyCodes.c) ||\n      (e.which === KeyCodes.enter &&\n        this._translateAnimationContainer.current &&\n        this._translateAnimationContainer.current.contains(e.target))\n    ) {\n      this._onFocusHandler();\n    }\n  }\n\n  private _onFocusHandler = (): void => {\n    if (this.state.isCollapsed) {\n      this._openCoachmark();\n    }\n  }\n\n  private _onPositioned = (positionData: IPositionedData): void => {\n    this._async.requestAnimationFrame(((): void => {\n      this.setState({\n        targetAlignment: positionData.alignmentEdge,\n        targetPosition: positionData.targetEdge\n      });\n    }));\n  }\n\n  private _getBounds(): IRectangle | undefined {\n    const { isPositionForced, positioningContainerProps } = this.props;\n    if (isPositionForced) {\n      // If directionalHint direction is the top or bottom auto edge, then we want to set the left/right bounds\n      // to the window x-axis to have auto positioning work correctly.\n      if (positioningContainerProps && (\n        positioningContainerProps.directionalHint === DirectionalHint.topAutoEdge ||\n        positioningContainerProps.directionalHint === DirectionalHint.bottomAutoEdge\n      )) {\n        return {\n          left: 0,\n          top: -Infinity,\n          bottom: Infinity,\n          right: window.innerWidth,\n          width: window.innerWidth,\n          height: Infinity\n        };\n      } else {\n        return {\n          left: -Infinity,\n          top: -Infinity,\n          bottom: Infinity,\n          right: Infinity,\n          width: Infinity,\n          height: Infinity\n        };\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  private _setBeakPosition = (): void => {\n    let beakLeft;\n    let beakTop;\n    let beakRight;\n    let beakBottom;\n    let transformOriginX;\n    let transformOriginY;\n\n    const { targetAlignment } = this.state;\n    const distanceAdjustment = '3px';  // Adjustment distance for Beak to shift towards Coachmark bubble.\n\n    switch (this._beakDirection) {\n      // If Beak is pointing Up or Down\n      case RectangleEdge.top:\n      case RectangleEdge.bottom:\n        // If there is no target alignment, then beak is X-axis centered in callout\n        if (!targetAlignment) {\n          beakLeft = `calc(50% - ${BEAK_WIDTH / 2}px)`;\n          transformOriginX = 'center';\n        } else {\n          // Beak is aligned to the left of target\n          if (targetAlignment === RectangleEdge.left) {\n            beakLeft = `${COACHMARK_WIDTH / 2 - BEAK_WIDTH / 2}px`;\n            transformOriginX = 'left';\n          } else {\n            // Beak is aligned to the right of target\n            beakRight = `${COACHMARK_WIDTH / 2 - BEAK_WIDTH / 2}px`;\n            transformOriginX = 'right';\n          }\n        }\n\n        if (this._beakDirection === RectangleEdge.top) {\n          beakTop = distanceAdjustment;\n          transformOriginY = 'top';\n        } else {\n          beakBottom = distanceAdjustment;\n          transformOriginY = 'bottom';\n        }\n        break;\n      // If Beak is pointing Left or Right\n      case RectangleEdge.left:\n      case RectangleEdge.right:\n        // If there is no target alignment, then beak is Y-axis centered in callout\n        if (!targetAlignment) {\n          beakTop = `calc(50% - ${BEAK_WIDTH / 2}px)`;\n          transformOriginY = `center`;\n        } else {\n          // Beak is aligned to the top of target\n          if (targetAlignment === RectangleEdge.top) {\n            beakTop = `${COACHMARK_WIDTH / 2 - BEAK_WIDTH / 2}px`;\n            transformOriginY = `top`;\n          } else {\n            // Beak is aligned to the bottom of target\n            beakBottom = `${COACHMARK_WIDTH / 2 - BEAK_WIDTH / 2}px`;\n            transformOriginY = `bottom`;\n          }\n        }\n\n        if (this._beakDirection === RectangleEdge.left) {\n          beakLeft = distanceAdjustment;\n          transformOriginX = 'left';\n        } else {\n          beakRight = distanceAdjustment;\n          transformOriginX = 'right';\n        }\n        break;\n    }\n\n    this.setState({\n      beakLeft: beakLeft,\n      beakRight: beakRight,\n      beakBottom: beakBottom,\n      beakTop: beakTop,\n      transformOrigin: `${transformOriginX} ${transformOriginY}`\n    });\n  }\n\n  private _openCoachmark = (): void => {\n    this.setState({\n      isCollapsed: false\n    });\n\n    if (this.props.onAnimationOpenStart) {\n      this.props.onAnimationOpenStart();\n    }\n\n    this._entityInnerHostElement.current &&\n      this._entityInnerHostElement.current.addEventListener(\n        'transitionend',\n        (): void => {\n          // Need setTimeout to trigger narrator\n          this._async.setTimeout(() => {\n            if (this.props.teachingBubbleRef) {\n              this.props.teachingBubbleRef.focus();\n            }\n          }, 500);\n\n          if (this.props.onAnimationOpenEnd) {\n            this.props.onAnimationOpenEnd();\n          }\n        }\n      );\n  }\n\n  private _addProximityHandler(mouseProximityOffset: number = 0): void {\n    /**\n     * An array of cached ids returned when setTimeout runs during\n     * the window resize event trigger.\n     */\n    const timeoutIds: number[] = [];\n\n    // Take the initial measure out of the initial render to prevent\n    // an unnecessary render.\n    this._async.setTimeout(() => {\n      this._setTargetElementRect();\n\n      // When the window resizes we want to async\n      // get the bounding client rectangle.\n      // Every time the event is triggered we want to\n      // setTimeout and then clear any previous instances\n      // of setTimeout.\n      this._events.on(window, 'resize', (): void => {\n        timeoutIds.forEach((value: number): void => {\n          clearInterval(value);\n        });\n\n        timeoutIds.push(this._async.setTimeout((): void => {\n          this._setTargetElementRect();\n        }, 100));\n      });\n    }, 10);\n\n    // Every time the document's mouse move is triggered\n    // we want to check if inside of an element and\n    // set the state with the result.\n    this._events.on(document, 'mousemove', (e: MouseEvent) => {\n      if (this.state.isCollapsed) {\n        const mouseY = e.pageY;\n        const mouseX = e.pageX;\n        this._setTargetElementRect();\n        const isMouseInProximity = this._isInsideElement(mouseX, mouseY, mouseProximityOffset);\n\n        if (isMouseInProximity !== this.state.isMouseInProximity) {\n          this._openCoachmark();\n        }\n      }\n\n      if (this.props.onMouseMove) {\n        this.props.onMouseMove(e);\n      }\n    });\n  }\n\n  private _setTargetElementRect(): void {\n    if (this._translateAnimationContainer && this._translateAnimationContainer.current) {\n      this._targetElementRect = this._translateAnimationContainer!.current!.getBoundingClientRect();\n    }\n  }\n\n  private _isInsideElement(mouseX: number, mouseY: number, mouseProximityOffset: number = 0): boolean {\n    return mouseX > (this._targetElementRect.left - mouseProximityOffset) &&\n      mouseX < ((this._targetElementRect.left + this._targetElementRect.width) + mouseProximityOffset) &&\n      mouseY > (this._targetElementRect.top - mouseProximityOffset) &&\n      mouseY < ((this._targetElementRect.top + this._targetElementRect.height) + mouseProximityOffset);\n  }\n}"]}