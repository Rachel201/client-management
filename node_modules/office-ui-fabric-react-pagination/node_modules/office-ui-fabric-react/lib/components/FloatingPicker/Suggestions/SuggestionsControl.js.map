{"version":3,"file":"SuggestionsControl.js","sourceRoot":"../src/","sources":["components/FloatingPicker/Suggestions/SuggestionsControl.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  css,\n  KeyCodes\n} from '../../../Utilities';\nimport { IButton } from '../../../Button';\nimport { ISuggestionModel } from '../../../Pickers';\nimport {\n  ISuggestionsHeaderFooterItemProps,\n  ISuggestionsControlProps,\n  ISuggestionsCoreProps,\n  ISuggestionsHeaderFooterProps\n} from './Suggestions.types';\nimport { SuggestionsCore } from './SuggestionsCore';\nimport * as stylesImport from './SuggestionsControl.scss';\n\n// tslint:disable-next-line:no-any\nconst styles: any = stylesImport;\n\nexport enum SuggestionItemType {\n  header,\n  suggestion,\n  footer,\n}\n\nexport interface ISuggestionsControlState {\n  selectedHeaderIndex: number;\n  selectedFooterIndex: number;\n}\n\nexport class SuggestionsHeaderFooterItem extends BaseComponent<ISuggestionsHeaderFooterItemProps, {}> {\n  public render(): JSX.Element {\n    const {\n      renderItem,\n      onExecute,\n      isSelected,\n      id,\n\n    } = this.props;\n    return (\n      onExecute ?\n        (\n          <button\n            id={ id }\n            onClick={ onExecute }\n            className={ css(\n              'ms-Suggestions-sectionButton',\n              styles.actionButton,\n              {\n                ['is-selected ' + styles.buttonSelected]:\n                isSelected\n              }) }\n          >\n            { renderItem() }\n          </button>\n        ) :\n        (\n          <div\n            id={ id }\n            className={ css(\n              'ms-Suggestions-section',\n              styles.suggestionsTitle) }\n          >\n            { renderItem() }\n          </div>\n        )\n    );\n  }\n}\n\n/**\n * Class when used with SuggestionsStore, renders a suggestions control with customizable headers and footers\n */\nexport class SuggestionsControl<T> extends BaseComponent<ISuggestionsControlProps<T>, ISuggestionsControlState> {\n\n  protected _forceResolveButton: IButton;\n  protected _searchForMoreButton: IButton;\n  protected _selectedElement: HTMLDivElement;\n  protected _suggestions: SuggestionsCore<T>;\n  private SuggestionsOfProperType: new (props: ISuggestionsCoreProps<T>) => SuggestionsCore<T> =\n  SuggestionsCore as new (props: ISuggestionsCoreProps<T>) => SuggestionsCore<T>;\n\n  constructor(suggestionsProps: ISuggestionsControlProps<T>) {\n    super(suggestionsProps);\n\n    this.state = {\n      selectedHeaderIndex: -1,\n      selectedFooterIndex: -1,\n    };\n  }\n\n  public componentDidMount(): void {\n    this.resetSelectedItem();\n  }\n\n  public componentDidUpdate(): void {\n    this.scrollSelected();\n  }\n\n  public componentWillReceiveProps(): void {\n    this.resetSelectedItem();\n  }\n\n  public componentWillUnmount(): void {\n    this._suggestions.deselectAllSuggestions();\n  }\n\n  public render(): JSX.Element {\n    const {\n      className,\n      headerItemsProps,\n      footerItemsProps\n    } = this.props;\n\n    return (\n      <div\n        className={ css(\n          'ms-Suggestions',\n          className ? className : '',\n          styles.root) }\n      >\n        { headerItemsProps && this.renderHeaderItems() }\n        { this._renderSuggestions() }\n        { footerItemsProps && this.renderFooterItems() }\n      </div>\n    );\n  }\n\n  public get currentSuggestion(): ISuggestionModel<T> {\n    return this._suggestions.getCurrentItem();\n  }\n\n  public hasSuggestionSelected(): boolean {\n    return this._suggestions.hasSuggestionSelected();\n  }\n\n  public hasSelection(): boolean {\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\n    return selectedHeaderIndex !== -1 || this.hasSuggestionSelected() || selectedFooterIndex !== -1;\n  }\n\n  public executeSelectedAction(): void {\n    const { headerItemsProps, footerItemsProps } = this.props;\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\n\n    if (headerItemsProps && selectedHeaderIndex !== -1 && selectedHeaderIndex < headerItemsProps.length) {\n      const selectedHeaderItem = headerItemsProps[selectedHeaderIndex];\n      if (selectedHeaderItem.onExecute) {\n        selectedHeaderItem.onExecute();\n      }\n    } else if (this._suggestions.hasSuggestionSelected()) {\n      this.props.completeSuggestion();\n    } else if (footerItemsProps && selectedFooterIndex !== -1 && selectedFooterIndex < footerItemsProps.length) {\n      const selectedFooterItem = footerItemsProps[selectedFooterIndex];\n      if (selectedFooterItem.onExecute) {\n        selectedFooterItem.onExecute();\n      }\n    }\n  }\n\n  public removeSuggestion(index?: number): void {\n    this._suggestions.removeSuggestion(index ? index : this._suggestions.currentIndex);\n  }\n\n  /**\n   * Handles the key down, returns true, if the event was handled, false otherwise\n   * @param keyCode The keyCode to handle\n   */\n  public handleKeyDown(keyCode: number): boolean {\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\n    let isKeyDownHandled = false;\n    if (keyCode === KeyCodes.down) {\n      if (selectedHeaderIndex === -1 && !this._suggestions.hasSuggestionSelected() && selectedFooterIndex === -1) {\n        this.selectFirstItem();\n      } else if (selectedHeaderIndex !== -1) {\n        this.selectNextItem(SuggestionItemType.header);\n        isKeyDownHandled = true;\n      } else if (this._suggestions.hasSuggestionSelected()) {\n        this.selectNextItem(SuggestionItemType.suggestion);\n        isKeyDownHandled = true;\n      } else if (selectedFooterIndex !== -1) {\n        this.selectNextItem(SuggestionItemType.footer);\n        isKeyDownHandled = true;\n      }\n    } else if (keyCode === KeyCodes.up) {\n      if (selectedHeaderIndex === -1 && !this._suggestions.hasSuggestionSelected() && selectedFooterIndex === -1) {\n        this.selectLastItem();\n      } else if (selectedHeaderIndex !== -1) {\n        this.selectPreviousItem(SuggestionItemType.header);\n        isKeyDownHandled = true;\n      } else if (this._suggestions.hasSuggestionSelected()) {\n        this.selectPreviousItem(SuggestionItemType.suggestion);\n        isKeyDownHandled = true;\n      } else if (selectedFooterIndex !== -1) {\n        this.selectPreviousItem(SuggestionItemType.footer);\n        isKeyDownHandled = true;\n      }\n    } else if (keyCode === KeyCodes.enter\n      || keyCode === KeyCodes.tab) {\n      if (this.hasSelection()) {\n        this.executeSelectedAction();\n        isKeyDownHandled = true;\n      }\n    }\n\n    return isKeyDownHandled;\n  }\n\n  // TODO get the element to scroll into view properly regardless of direction.\n  public scrollSelected(): void {\n    if (this._selectedElement) {\n      this._selectedElement.scrollIntoView(false);\n    }\n  }\n\n  protected renderHeaderItems(): JSX.Element | null {\n    const { headerItemsProps, suggestionsHeaderContainerAriaLabel } = this.props;\n    const { selectedHeaderIndex } = this.state;\n\n    return headerItemsProps ? (\n      <div\n        className={ css('ms-Suggestions-headerContainer', styles.suggestionsContainer) }\n        id='suggestionHeader-list'\n        role='list'\n        aria-label={ suggestionsHeaderContainerAriaLabel }\n      >\n        { headerItemsProps.map((headerItemProps: ISuggestionsHeaderFooterProps, index: number) => {\n          const isSelected = selectedHeaderIndex !== -1 && selectedHeaderIndex === index;\n          return (\n            headerItemProps.shouldShow() ? <div\n              ref={ this._resolveRef(isSelected ? '_selectedElement' : '') }\n              id={ 'sug-header' + index }\n              role='listitem'\n              aria-label={ headerItemProps.ariaLabel }\n            >\n              <SuggestionsHeaderFooterItem\n                id={ 'sug-header-item' + index }\n                isSelected={ isSelected }\n                renderItem={ headerItemProps.renderItem }\n                onExecute={ headerItemProps.onExecute }\n                className={ headerItemProps.className }\n              />\n            </div> : null\n          );\n        }) }\n      </div>) : null;\n  }\n\n  protected renderFooterItems(): JSX.Element | null {\n    const { footerItemsProps, suggestionsFooterContainerAriaLabel } = this.props;\n    const { selectedFooterIndex } = this.state;\n    return footerItemsProps ? (\n      <div\n        className={ css('ms-Suggestions-footerContainer', styles.suggestionsContainer) }\n        id='suggestionFooter-list'\n        role='list'\n        aria-label={ suggestionsFooterContainerAriaLabel }\n      >\n        { footerItemsProps.map((footerItemProps: ISuggestionsHeaderFooterProps, index: number) => {\n          const isSelected = selectedFooterIndex !== -1 && selectedFooterIndex === index;\n          return (\n            footerItemProps.shouldShow() ? <div\n              ref={ this._resolveRef(isSelected ? '_selectedElement' : '') }\n              id={ 'sug-footer' + index }\n              role='listitem'\n              aria-label={ footerItemProps.ariaLabel }\n            >\n              <SuggestionsHeaderFooterItem\n                id={ 'sug-footer-item' + index }\n                isSelected={ isSelected }\n                renderItem={ footerItemProps.renderItem }\n                onExecute={ footerItemProps.onExecute }\n                className={ footerItemProps.className }\n              />\n            </div> : null\n          );\n        }) }\n      </div>) : null;\n  }\n\n  protected _renderSuggestions(): JSX.Element {\n    const TypedSuggestions = this.SuggestionsOfProperType;\n\n    return (\n      <TypedSuggestions\n        ref={ this._resolveRef('_suggestions') }\n        { ...this.props as ISuggestionsCoreProps<T>}\n      />);\n  }\n\n  /**\n   * Selects the next selectable item\n   */\n  protected selectNextItem(itemType: SuggestionItemType, originalItemType?: SuggestionItemType): void {\n    // If the recursive calling has not found a selectable item in the other suggestion item type groups\n    // And the method is being called again with the original item type,\n    // Select the first selectable item of this suggestion item type group (could be the currently selected item)\n    if (itemType === originalItemType) {\n      this._selectNextItemOfItemType(itemType);\n      return;\n    }\n\n    const startedItemType = originalItemType !== undefined ? originalItemType : itemType;\n\n    // Try to set the selection to the next selectable item, of the same suggestion item type group\n    // If this is the original item type, use the current index\n    const selectionChanged = this._selectNextItemOfItemType(\n      itemType,\n      startedItemType === itemType ? this._getCurrentIndexForType(itemType) : undefined);\n\n    // If the selection did not change, try to select from the next suggestion type group\n    if (!selectionChanged) {\n\n      this.selectNextItem(this._getNextItemSectionType(itemType), startedItemType);\n    }\n  }\n\n  /**\n   * Selects the previous selectable item\n   */\n  protected selectPreviousItem(itemType: SuggestionItemType, originalItemType?: SuggestionItemType): void {\n    // If the recursive calling has not found a selectable item in the other suggestion item type groups\n    // And the method is being called again with the original item type,\n    // Select the last selectable item of this suggestion item type group (could be the currently selected item)\n    if (itemType === originalItemType) {\n      this._selectPreviousItemOfItemType(itemType);\n      return;\n    }\n\n    const startedItemType = originalItemType !== undefined ? originalItemType : itemType;\n\n    // Try to set the selection to the previous selectable item, of the same suggestion item type group\n    const selectionChanged = this._selectPreviousItemOfItemType(\n      itemType,\n      startedItemType === itemType ? this._getCurrentIndexForType(itemType) : undefined);\n\n    // If the selection did not change, try to select from the previous suggestion type group\n    if (!selectionChanged) {\n\n      this.selectPreviousItem(this._getPreviousItemSectionType(itemType), startedItemType);\n    }\n  }\n\n  /**\n   * Resets the selected state and selects the first selectable item\n   */\n  protected resetSelectedItem(): void {\n    this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\n    this._suggestions.deselectAllSuggestions();\n\n    // Select the first item if the shouldSelectFirstItem prop is not set or it is set and it returns true\n    if (this.props.shouldSelectFirstItem === undefined || this.props.shouldSelectFirstItem()) {\n      this.selectFirstItem();\n    }\n  }\n\n  /**\n   * Selects the first item\n   */\n  protected selectFirstItem(): void {\n    if (this._selectNextItemOfItemType(SuggestionItemType.header)) {\n      return;\n    }\n\n    if (this._selectNextItemOfItemType(SuggestionItemType.suggestion)) {\n      return;\n    }\n\n    this._selectNextItemOfItemType(SuggestionItemType.footer);\n  }\n\n  /**\n   * Selects the last item\n   */\n  protected selectLastItem(): void {\n    if (this._selectPreviousItemOfItemType(SuggestionItemType.footer)) {\n      return;\n    }\n\n    if (this._selectPreviousItemOfItemType(SuggestionItemType.suggestion)) {\n      return;\n    }\n\n    this._selectPreviousItemOfItemType(SuggestionItemType.header);\n  }\n\n  /**\n   * Selects the next item in the suggestion item type group, given the current index\n   * If none is able to be selected, returns false, otherwise returns true\n   * @param itemType The suggestion item type\n   * @param currentIndex The current index, default is -1\n   */\n  private _selectNextItemOfItemType(itemType: SuggestionItemType, currentIndex: number = -1): boolean {\n    if (itemType === SuggestionItemType.suggestion) {\n      if (this.props.suggestions.length > currentIndex + 1) {\n        this._suggestions.setSelectedSuggestion(currentIndex + 1);\n        this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\n        return true;\n      }\n    } else {\n      const isHeader = itemType === SuggestionItemType.header;\n      const itemProps = isHeader ? this.props.headerItemsProps : this.props.footerItemsProps;\n\n      if (itemProps && itemProps.length > currentIndex + 1) {\n        for (let i = currentIndex + 1; i < itemProps.length; i++) {\n          const item = itemProps[i];\n          if (item.onExecute && item.shouldShow()) {\n            this.setState({ selectedHeaderIndex: isHeader ? i : -1 });\n            this.setState({ selectedFooterIndex: isHeader ? -1 : i });\n            this._suggestions.deselectAllSuggestions();\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  /**\n * Selects the previous item in the suggestion item type group, given the current index\n * If none is able to be selected, returns false, otherwise returns true\n * @param itemType The suggestion item type\n * @param currentIndex The current index. If none is provided, the default is the items length of specified type\n */\n  private _selectPreviousItemOfItemType(itemType: SuggestionItemType, currentIndex?: number): boolean {\n    if (itemType === SuggestionItemType.suggestion) {\n      const index = currentIndex !== undefined ? currentIndex : this.props.suggestions.length;\n      if (index > 0) {\n        this._suggestions.setSelectedSuggestion(index - 1);\n        this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\n        return true;\n      }\n    } else {\n      const isHeader = itemType === SuggestionItemType.header;\n      const itemProps = isHeader ? this.props.headerItemsProps : this.props.footerItemsProps;\n      if (itemProps) {\n        const index = currentIndex !== undefined ? currentIndex : itemProps.length;\n        if (index > 0) {\n          for (let i = index - 1; i >= 0; i--) {\n            const item = itemProps[i];\n            if (item.onExecute && item.shouldShow()) {\n              this.setState({ selectedHeaderIndex: isHeader ? i : -1 });\n              this.setState({ selectedFooterIndex: isHeader ? -1 : i });\n              this._suggestions.deselectAllSuggestions();\n              return true;\n            }\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  private _getCurrentIndexForType(itemType: SuggestionItemType): number {\n    switch (itemType) {\n      case SuggestionItemType.header:\n        return this.state.selectedHeaderIndex;\n      case SuggestionItemType.suggestion:\n        return this._suggestions.currentIndex;\n      case SuggestionItemType.footer:\n        return this.state.selectedFooterIndex;\n    }\n  }\n\n  private _getNextItemSectionType(itemType: SuggestionItemType): SuggestionItemType {\n    switch (itemType) {\n      case SuggestionItemType.header:\n        return SuggestionItemType.suggestion;\n      case SuggestionItemType.suggestion:\n        return SuggestionItemType.footer;\n      case SuggestionItemType.footer:\n        return SuggestionItemType.header;\n    }\n  }\n\n  private _getPreviousItemSectionType(itemType: SuggestionItemType): SuggestionItemType {\n    switch (itemType) {\n      case SuggestionItemType.header:\n        return SuggestionItemType.footer;\n      case SuggestionItemType.suggestion:\n        return SuggestionItemType.header;\n      case SuggestionItemType.footer:\n        return SuggestionItemType.suggestion;\n    }\n  }\n}"]}