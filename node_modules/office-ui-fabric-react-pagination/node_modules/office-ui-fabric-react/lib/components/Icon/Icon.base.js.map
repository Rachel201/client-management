{"version":3,"file":"Icon.base.js","sourceRoot":"../src/","sources":["components/Icon/Icon.base.tsx"],"names":[],"mappings":"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","sourcesContent":["/* tslint:disable */\nimport * as React from 'react';\n/* tslint:enable */\nimport { IIconProps, IconType, IIconStyleProps, IIconStyles } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState } from '../Image/Image.types';\nimport {\n  getNativeProps,\n  htmlElementProperties,\n  BaseComponent,\n  classNamesFunction\n} from '../../Utilities';\nimport { getIcon } from '../../Styling';\n\nexport interface IIconState {\n  imageLoadError: boolean;\n}\n\nconst getClassNames = classNamesFunction<IIconStyleProps, IIconStyles>();\n\nexport class IconBase extends BaseComponent<IIconProps, IIconState> {\n  constructor(props: IIconProps) {\n    super(props);\n    this.state = {\n      imageLoadError: false,\n    };\n  }\n\n  public render() {\n    const {\n      ariaLabel,\n      className,\n      getStyles,\n      iconName,\n      imageErrorAs,\n      styles,\n    } = this.props;\n    const isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n    const isImage = this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\n    const { iconClassName, children } = this._getIconContent(iconName);\n\n    const classNames = getClassNames(getStyles, {\n      className,\n      iconClassName,\n      isImage,\n      isPlaceholder,\n      styles\n    });\n\n    const containerProps = ariaLabel ?\n      {\n        'aria-label': ariaLabel,\n      } : {\n        role: 'presentation',\n        'aria-hidden': true,\n      };\n\n    const RootType = isImage ? 'div' : 'i';\n    const nativeProps = getNativeProps(this.props, htmlElementProperties);\n    const { imageLoadError } = this.state;\n    const imageProps = { ...this.props.imageProps, onLoadingStateChange: this.onImageLoadingStateChange };\n    const ImageType = imageLoadError && imageErrorAs || Image;\n\n    return (\n      <RootType\n        data-icon-name={ iconName }\n        { ...nativeProps }\n        { ...containerProps }\n        className={ classNames.root }\n      >\n        { isImage ? (\n          <ImageType { ...imageProps } />\n        ) : (\n            children\n          ) }\n      </RootType>\n    );\n  }\n\n  private onImageLoadingStateChange = (state: ImageLoadState): void => {\n    if (this.props.imageProps && this.props.imageProps.onLoadingStateChange) {\n      this.props.imageProps.onLoadingStateChange(state);\n    }\n    if (state === ImageLoadState.error) {\n      this.setState({ imageLoadError: true });\n    }\n  }\n\n  private _getIconContent(name?: string) {\n    const iconDefinition = getIcon(name) || {\n      subset: {\n        className: undefined\n      },\n      code: undefined\n    };\n\n    return {\n      children: iconDefinition.code,\n      iconClassName: iconDefinition.subset.className\n    };\n  }\n}\n"]}