{"version":3,"file":"Checkbox.base.js","sourceRoot":"../src/","sources":["components/Checkbox/Checkbox.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  getId,\n  createRef,\n  customizable\n} from '../../Utilities';\nimport { Icon } from '../../Icon';\nimport {\n  ICheckbox,\n  ICheckboxProps,\n} from './Checkbox.types';\nimport {\n  ICheckboxClassNames,\n  getClassNames\n} from './Checkbox.classNames';\nimport { getStyles } from './Checkbox.styles';\nimport { KeytipData } from '../../KeytipData';\n\nexport interface ICheckboxState {\n  /** Is true when Uncontrolled control is checked. */\n  isChecked?: boolean;\n}\n\n@customizable('Checkbox', ['theme'])\nexport class Checkbox extends BaseComponent<ICheckboxProps, ICheckboxState> implements ICheckbox {\n  public static defaultProps: ICheckboxProps = {\n    boxSide: 'start'\n  };\n\n  private _checkBox = createRef<HTMLElement>();\n  private _id: string;\n  private _classNames: ICheckboxClassNames;\n\n  /**\n   * Initialize a new instance of the TopHeaderV2\n   * @param props Props for the component\n   * @param context Context or initial state for the base component.\n   */\n  constructor(props: ICheckboxProps, context?: any) {\n    super(props, context);\n\n    this._warnMutuallyExclusive({\n      'checked': 'defaultChecked'\n    });\n\n    this._id = getId('checkbox-');\n    this.state = {\n      isChecked: !!(props.checked !== undefined ? props.checked : props.defaultChecked)\n    };\n  }\n\n  public componentWillReceiveProps(newProps: ICheckboxProps): void {\n    if (newProps.checked !== undefined) {\n      this.setState({\n        isChecked: !!newProps.checked // convert null to false\n      });\n    }\n  }\n\n  /**\n   * Render the Checkbox based on passed props\n   */\n  public render(): JSX.Element {\n    const {\n      checked,\n      className,\n      defaultChecked,\n      disabled,\n      inputProps,\n      name,\n      boxSide,\n      theme,\n      ariaLabel,\n      ariaLabelledBy,\n      ariaDescribedBy,\n      styles: customStyles,\n      onRenderLabel = this._onRenderLabel,\n      checkmarkIconProps,\n      ariaPositionInSet,\n      ariaSetSize,\n      keytipProps\n    } = this.props;\n\n    const isChecked = checked === undefined ? this.state.isChecked : checked;\n    const isReversed = boxSide !== 'start' ? true : false;\n\n    this._classNames = this.props.getClassNames ?\n      this.props.getClassNames(theme!, !!disabled, !!isChecked, !!isReversed, className)\n      : getClassNames(\n        getStyles(theme!, customStyles),\n        !!disabled,\n        !!isChecked,\n        !!isReversed,\n        className\n      );\n\n    return (\n      <KeytipData keytipProps={ keytipProps } disabled={ disabled }>\n        { (keytipAttributes: any): JSX.Element => (\n          <button\n            { ...inputProps }\n            data-ktp-execute-target={ keytipAttributes['data-ktp-execute-target'] }\n            { ...(checked !== undefined && { checked }) }\n            { ...(defaultChecked !== undefined && { defaultChecked }) }\n            disabled={ disabled }\n            ref={ this._checkBox }\n            name={ name }\n            id={ this._id }\n            role='checkbox'\n            type='button'\n            className={ this._classNames.root }\n            onClick={ this._onClick }\n            onFocus={ this._onFocus }\n            onBlur={ this._onBlur }\n            aria-checked={ isChecked }\n            aria-disabled={ disabled }\n            aria-label={ ariaLabel }\n            aria-labelledby={ ariaLabelledBy }\n            aria-describedby={ (ariaDescribedBy || '') + (keytipAttributes['aria-describedby'] || '') }\n            aria-posinset={ ariaPositionInSet }\n            aria-setsize={ ariaSetSize }\n          >\n            <label className={ this._classNames.label } htmlFor={ this._id } >\n              <div\n                className={ this._classNames.checkbox }\n                data-ktp-target={ keytipAttributes['data-ktp-target'] }\n              >\n                <Icon iconName='CheckMark' { ...checkmarkIconProps } className={ this._classNames.checkmark } />\n              </div>\n              { onRenderLabel(this.props, this._onRenderLabel) }\n            </label>\n          </button>\n        ) }\n      </KeytipData>\n    );\n  }\n\n  public get checked(): boolean {\n    return this.state.isChecked!;\n  }\n\n  public focus(): void {\n    if (this._checkBox.current) {\n      this._checkBox.current.focus();\n    }\n  }\n\n  private _onFocus = (ev: React.FocusEvent<HTMLElement>): void => {\n    const { inputProps } = this.props;\n\n    if (inputProps && inputProps.onFocus) {\n      inputProps.onFocus(ev);\n    }\n  }\n\n  private _onBlur = (ev: React.FocusEvent<HTMLElement>): void => {\n    const { inputProps } = this.props;\n\n    if (inputProps && inputProps.onBlur) {\n      inputProps.onBlur(ev);\n    }\n  }\n\n  private _onClick = (ev: React.FormEvent<HTMLElement>): void => {\n    const { disabled, onChange } = this.props;\n    const { isChecked } = this.state;\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    if (!disabled) {\n      if (onChange) {\n        onChange(ev, !isChecked);\n      }\n\n      if (this.props.checked === undefined) {\n        this.setState({ isChecked: !isChecked });\n      }\n    }\n  }\n\n  private _onRenderLabel = (props: ICheckboxProps): JSX.Element | null => {\n    const { label } = props;\n\n    return label ? (\n      <span className={ this._classNames.text }>{ label }</span>\n    ) : (\n        null\n      );\n  }\n}\n"]}