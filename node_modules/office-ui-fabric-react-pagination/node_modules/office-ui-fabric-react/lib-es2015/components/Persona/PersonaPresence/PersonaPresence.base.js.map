{"version":3,"file":"PersonaPresence.base.js","sourceRoot":"../src/","sources":["components/Persona/PersonaPresence/PersonaPresence.base.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EACL,aAAa,EACb,kBAAkB,EAClB,YAAY,GACb,MAAM,oBAAoB,CAAC;AAE5B,OAAO,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AACrC,OAAO,EAIL,eAAe,IAAI,mBAAmB,GAEvC,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAE/C,IAAM,uBAAuB,GAAG,CAAC,CAAC;AAClC,IAAM,2BAA2B,GAAG,CAAC,CAAC;AACtC,IAAM,eAAe,GAAG,EAAE,CAAC;AAC3B,IAAM,mBAAmB,GAAG,EAAE,CAAC;AAE/B,IAAM,aAAa,GAAG,kBAAkB,EAAsD,CAAC;AAE/F;;;GAGG;AAEH;IAAyC,+CAAwC;IAC/E,6BAAY,KAA4B;QAAxC,YACE,kBAAM,KAAK,CAAC,SACb;QAwCO,mBAAa,GAAG,UAAC,SAAkB,EAAE,MAAkB,IAAkB,OAAA,CAC/E,oBAAC,IAAI,IACH,SAAS,EAAG,SAAS,EACrB,QAAQ,EAAG,KAAI,CAAC,cAAc,EAAE,EAChC,KAAK,EAAG,MAAM,GACd,CACH,EANgF,CAMhF,CAAA;QAEO,oBAAc,GAAG;YACf,IAAA,+BAAQ,CAAgB;YAEhC,IAAI,QAAQ,KAAK,mBAAmB,CAAC,IAAI,EAAE;gBACzC,IAAI,YAAY,GAAG,mBAAmB,CAAC,QAA+B,CAAC,CAAC;gBAExE,QAAQ,YAAY,EAAE;oBACpB,KAAK,QAAQ;wBACX,YAAY,GAAG,YAAY,CAAC;wBAC5B,MAAM;oBACR,KAAK,MAAM;wBACT,YAAY,GAAG,YAAY,CAAC;wBAC5B,MAAM;oBACR,KAAK,KAAK;wBACR,YAAY,GAAG,YAAY,CAAC;wBAC5B,MAAM;oBACR;wBACE,YAAY,GAAG,EAAE,CAAC;iBACrB;gBAED,OAAO,YAAY,CAAC;aACrB;QACH,CAAC,CAAA;;IAtED,CAAC;IAEM,oCAAM,GAAb;QACQ,IAAA,eAKQ,EAJZ,sBAAQ,EACR,wBAAS,EAAE,4BAA4B;QACvC,sBAAQ,EACR,gBAAK,CACQ;QACf,IAAM,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,IAAmB,CAAC,CAAC;QAEzD,oDAAoD;QACpD,IAAM,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAE7I,IAAM,mBAAmB,GAAW,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,2BAA2B,GAAG,eAAe,CAAC,CAAC,CAAC,QAAQ,GAAG,2BAA2B,GAAG,IAAI,CAAC,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxL,IAAM,gBAAgB,GAAW,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,uBAAuB,GAAG,mBAAmB,CAAC,CAAC,CAAC,QAAQ,GAAG,uBAAuB,GAAG,IAAI,CAAC,CAAC,CAAC,mBAAmB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrL,IAAM,6BAA6B,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,gBAAgB,EAAE,UAAU,EAAE,mBAAmB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QAC7H,IAAM,yBAAyB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,mBAAmB,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QAErH,wEAAwE;QACxE,IAAM,UAAU,GAAG,aAAa,CAAC,SAAS,EAAE;YAC1C,KAAK,EAAE,KAAM;YACb,QAAQ,UAAA;YACR,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;SACtB,CAAC,CAAC;QAEH,IAAI,QAAQ,KAAK,mBAAmB,CAAC,IAAI,EAAE;YACzC,OAAO,IAAI,CAAC;SACb;QAED,OAAO,CACL,6BACE,SAAS,EAAG,UAAU,CAAC,QAAQ,EAC/B,KAAK,EAAG,yBAAyB,IAE/B,UAAU,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,YAAY,EAAE,6BAA6B,CAAC,CACtF,CACP,CAAC;IACJ,CAAC;IAzCU,mBAAmB;QAD/B,YAAY,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,CAAC;OAC9B,mBAAmB,CA0E/B;IAAD,0BAAC;CAAA,AA1ED,CAAyC,aAAa,GA0ErD;SA1EY,mBAAmB","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  classNamesFunction,\n  customizable,\n} from '../../../Utilities';\nimport { IStyleSet } from '../../../Styling';\nimport { Icon } from '../../../Icon';\nimport {\n  IPersonaPresenceProps,\n  IPersonaPresenceStyleProps,\n  IPersonaPresenceStyles,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize,\n} from '../Persona.types';\nimport { sizeBoolean } from '../PersonaConsts';\n\nconst coinSizeFontScaleFactor = 6;\nconst coinSizePresenceScaleFactor = 3;\nconst presenceMaxSize = 40;\nconst presenceFontMaxSize = 20;\n\nconst getClassNames = classNamesFunction<IPersonaPresenceStyleProps, IPersonaPresenceStyles>();\n\n/**\n * PersonaPresence with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/OfficeDev/office-ui-fabric-react/wiki/Styling)\n */\n@customizable('PersonaPresence', ['theme'])\nexport class PersonaPresenceBase extends BaseComponent<IPersonaPresenceProps, {}> {\n  constructor(props: IPersonaPresenceProps) {\n    super(props);\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      coinSize,\n      getStyles, // Use getStyles from props.\n      presence,\n      theme,\n    } = this.props;\n    const size = sizeBoolean(this.props.size as PersonaSize);\n\n    // Render Presence Icon if Persona is above size 32.\n    const renderIcon = !(size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) && (coinSize ? coinSize > 32 : true);\n\n    const presenceHeightWidth: string = coinSize ? (coinSize / coinSizePresenceScaleFactor < presenceMaxSize ? coinSize / coinSizePresenceScaleFactor + 'px' : presenceMaxSize + 'px') : '';\n    const presenceFontSize: string = coinSize ? (coinSize / coinSizeFontScaleFactor < presenceFontMaxSize ? coinSize / coinSizeFontScaleFactor + 'px' : presenceFontMaxSize + 'px') : '';\n    const coinSizeWithPresenceIconStyle = coinSize ? { fontSize: presenceFontSize, lineHeight: presenceHeightWidth } : undefined;\n    const coinSizeWithPresenceStyle = coinSize ? { width: presenceHeightWidth, height: presenceHeightWidth } : undefined;\n\n    // Use getStyles from props, or fall back to getStyles from styles file.\n    const classNames = getClassNames(getStyles, {\n      theme: theme!,\n      presence,\n      size: this.props.size,\n    });\n\n    if (presence === PersonaPresenceEnum.none) {\n      return null;\n    }\n\n    return (\n      <div\n        className={ classNames.presence }\n        style={ coinSizeWithPresenceStyle }\n      >\n        { renderIcon && this._onRenderIcon(classNames.presenceIcon, coinSizeWithPresenceIconStyle) }\n      </div>\n    );\n  }\n\n  private _onRenderIcon = (className?: string, styles?: IStyleSet): JSX.Element => (\n    <Icon\n      className={ className }\n      iconName={ this._determineIcon() }\n      style={ styles }\n    />\n  )\n\n  private _determineIcon = (): string | undefined => {\n    const { presence } = this.props;\n\n    if (presence !== PersonaPresenceEnum.none) {\n      let userPresence = PersonaPresenceEnum[presence as PersonaPresenceEnum];\n\n      switch (userPresence) {\n        case 'online':\n          userPresence = 'SkypeCheck';\n          break;\n        case 'away':\n          userPresence = 'SkypeClock';\n          break;\n        case 'dnd':\n          userPresence = 'SkypeMinus';\n          break;\n        default:\n          userPresence = '';\n      }\n\n      return userPresence;\n    }\n  }\n}\n"]}