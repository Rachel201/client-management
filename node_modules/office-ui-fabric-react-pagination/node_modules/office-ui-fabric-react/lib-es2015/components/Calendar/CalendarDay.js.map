{"version":3,"file":"CalendarDay.js","sourceRoot":"../src/","sources":["components/Calendar/CalendarDay.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EACL,aAAa,EAEb,GAAG,EACH,KAAK,EACL,MAAM,EACN,iBAAiB,EACjB,MAAM,EACP,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAA8B,aAAa,EAAE,MAAM,uCAAuC,CAAC;AAClG,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAClC,OAAO,EACL,OAAO,EACP,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,eAAe,EACf,iBAAiB,EACjB,kBAAkB,EAClB,aAAa,EACb,qBAAqB,EACrB,aAAa,EACb,WAAW,EACZ,MAAM,mCAAmC,CAAC;AAE3C,OAAO,KAAK,YAAY,MAAM,iBAAiB,CAAC;AAChD,IAAM,MAAM,GAAQ,YAAY,CAAC;AAEjC,IAAM,YAAY,GAAG,CAAC,CAAC;AAiDvB;IAAiC,uCAAmD;IAIlF,qBAAmB,KAAwB;QAA3C,YACE,kBAAM,KAAK,CAAC,SASb;QAZO,UAAI,GAA0C,EAAE,CAAC;QAsTjD,gBAAU,GAAG,UAAC,QAAoB,EAAE,EAAoC;YAC9E,IAAI,EAAE,CAAC,KAAK,mBAAmB,IAAI,EAAE,CAAC,KAAK,mBAAmB,EAAE;gBAC9D,QAAQ,EAAE,CAAC;aACZ;QACH,CAAC,CAAA;QAEO,mBAAa,GAAG,UAAC,YAAkB,EAAE,SAAiB,EAAE,QAAgB;YAE9E,OAAO,UAAC,EAAoC;gBAC1C,KAAI,CAAC,kBAAkB,CAAC,EAAE,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;YACjE,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,qBAAe,GAAG,UAAC,YAAkB,EAAE,SAAiB,EAAE,QAAgB,EAAE,aAA4B;YAE9G,OAAO,UAAC,EAAiC;gBACvC,wBAAwB;gBACxB,IAAI,aAAa,KAAK,aAAa,CAAC,KAAK,EAAE;oBACzC,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;wBACpC,IAAI,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,YAAY,CAAC,QAAQ,EAAE,EAAE;4BAClE,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACpC;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,yBAAyB;oBACzB,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,YAAY;wBAClD,IAAI,GAAG,IAAI,YAAY,KAAK,SAAS,EAAE;4BACrC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;4BACnC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;yBAC5C;6BAAM,IAAI,GAAG,EAAE;4BACd,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;yBAC/C;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,mBAAa,GAAG,UAAC,YAAkB,EAAE,SAAiB,EAAE,QAAgB,EAAE,aAA4B;YAE5G,OAAO,UAAC,EAAiC;gBACvC,uBAAuB;gBACvB,IAAI,aAAa,KAAK,aAAa,CAAC,KAAK,EAAE;oBACzC,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;wBACpC,IAAI,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,YAAY,CAAC,QAAQ,EAAE,EAAE;4BAClE,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACvC;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,yBAAyB;oBACzB,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,YAAY;wBAClD,IAAI,GAAG,IAAI,YAAY,KAAK,SAAS,EAAE;4BACrC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACvC;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,qBAAe,GAAG,UAAC,YAAkB,EAAE,SAAiB,EAAE,QAAgB,EAAE,aAA4B;YAE9G,OAAO,UAAC,EAAiC;gBACvC,uDAAuD;gBACvD,IAAI,aAAa,KAAK,aAAa,CAAC,KAAK,EAAE;oBACzC,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;wBACpC,IAAI,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,YAAY,CAAC,QAAQ,EAAE,EAAE;4BAClE,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACpC;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,yBAAyB;oBACzB,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,YAAY;wBAClD,IAAI,GAAG,IAAI,YAAY,KAAK,SAAS,EAAE;4BACrC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACpC;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,sBAAgB,GAAG,UAAC,YAAkB,EAAE,SAAiB,EAAE,QAAgB,EAAE,aAA4B;YAE/G,OAAO,UAAC,EAAiC;gBACvC,uCAAuC;gBACvC,IAAI,aAAa,KAAK,aAAa,CAAC,KAAK,EAAE;oBACzC,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;wBACpC,IAAI,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,YAAY,CAAC,QAAQ,EAAE,EAAE;4BAClE,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACvC;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,yBAAyB;oBACzB,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,YAAY;wBAClD,IAAI,GAAG,IAAI,YAAY,KAAK,SAAS,EAAE;4BACrC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;yBACvC;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,wBAAkB,GAAG,UAAC,EAAiC;YAC7D,IAAK,EAAE,CAAC,MAAsB,CAAC,QAAQ,IAAI,EAAE,CAAC,aAAa,IAAK,EAAE,CAAC,aAA6B,CAAC,QAAQ,IAAK,EAAE,CAAC,MAAsB,CAAC,QAAQ,CAAC,EAAE,CAAC,aAA4B,CAAC,EAAE;gBACjL,OAAO;aACR;YAED,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;gBACpC,IAAI,GAAG,EAAE;oBACP,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBACtC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACvC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAA;QAEO,qBAAe,GAAG,UAAC,EAAiC;YAC1D,IAAK,EAAE,CAAC,MAAsB,CAAC,QAAQ,IAAI,EAAE,CAAC,aAAa,IAAK,EAAE,CAAC,aAA6B,CAAC,QAAQ,IAAK,EAAE,CAAC,MAAsB,CAAC,QAAQ,CAAC,EAAE,CAAC,aAA4B,CAAC,EAAE;gBACjL,OAAO;aACR;YAED,KAAI,CAAC,uBAAuB,CAAC,UAAC,GAAG,EAAE,GAAG;gBACpC,IAAI,GAAG,EAAE;oBACP,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACvC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAA;QAaO,mBAAa,GAAG,UAAC,YAAkB;YACnC,IAAA,gBASQ,EARZ,8BAAY,EACZ,gCAAa,EACb,kCAAc,EACd,gCAAa,EACb,oDAAuB,EACvB,oBAAO,EACP,oBAAO,EACP,8BAAY,CACC;YAEf,IAAI,SAAS,GAAG,iBAAiB,CAAC,YAAY,EAAE,aAAa,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;YAC7F,IAAI,aAAa,KAAK,aAAa,CAAC,GAAG,EAAE;gBACvC,SAAS,GAAG,KAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;aACpE;YAED,IAAI,YAAY,EAAE;gBAChB,YAAY,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;aACvC;YAED,+CAA+C;YAC/C,IAAI,uBAAuB,IAAI,YAAY,CAAC,QAAQ,EAAE,KAAK,aAAa,CAAC,QAAQ,EAAE,EAAE;gBACnF,IAAM,aAAa,GAAG,eAAe,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;gBACnE,IAAI,aAAa,GAAG,CAAC,EAAE;oBACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;qBAAM,IAAI,aAAa,GAAG,CAAC,EAAE;oBAC5B,KAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;aACF;QACH,CAAC,CAAA;QAEO,wBAAkB,GAAG;YAC3B,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3E,CAAC,CAAA;QAEO,wBAAkB,GAAG;YAC3B,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC5E,CAAC,CAAA;QAEO,qBAAe,GAAG;YAChB,IAAA,2CAAc,CAAgB;YACtC,IAAI,cAAc,EAAE;gBAClB,cAAc,CAAC,IAAI,CAAC,CAAC;aACtB;QACH,CAAC,CAAA;QAEO,sBAAgB,GAAG,UAAC,EAAoC;YACtD,IAAA,2CAAc,CAAgB;YACtC,IAAI,cAAc,IAAI,CAAC,EAAE,CAAC,KAAK,mBAAmB,IAAI,EAAE,CAAC,KAAK,mBAAmB,CAAC,EAAE;gBAClF,cAAc,CAAC,IAAI,CAAC,CAAC;aACtB;QACH,CAAC,CAAA;QAEO,yBAAmB,GAAG,UAAC,EAAoC;YACjE,IAAI,EAAE,CAAC,KAAK,mBAAmB,EAAE;gBAC/B,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;aAC9C;QACH,CAAC,CAAA;QAEO,yBAAmB,GAAG,UAAC,EAAoC;YACjE,IAAI,EAAE,CAAC,KAAK,mBAAmB,EAAE;gBAC/B,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;aAC9C;QACH,CAAC,CAAA;QAzfC,KAAI,CAAC,KAAK,GAAG;YACX,kBAAkB,EAAE,KAAK,CAAC,sBAAsB,CAAC;YACjD,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC;SAC7B,CAAC;QAEF,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7D,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC/D,CAAC;IAEM,+CAAyB,GAAhC,UAAiC,SAA4B;QAC3D,IAAI,CAAC,QAAQ,CAAC;YACZ,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;SACjC,CAAC,CAAC;IACL,CAAC;IAEM,4BAAM,GAAb;QAAA,iBAqLC;QApLO,IAAA,eAA0C,EAAxC,0CAAkB,EAAE,gBAAK,CAAgB;QAC3C,IAAA,eAA4K,EAA1K,kCAAc,EAAE,oBAAO,EAAE,gCAAa,EAAE,8BAAY,EAAE,gCAAa,EAAE,oCAAe,EAAE,oCAAe,EAAE,oCAAe,EAAE,wCAAiB,EAAE,oBAAO,EAAE,oBAAO,CAAgB;QACnL,IAAM,WAAW,GAAG,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACrD,IAAM,cAAc,GAAG,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAC3D,IAAM,kBAAkB,GAAG,eAAe,CAAC,cAAc,CAAC;QAC1D,IAAM,mBAAmB,GAAG,eAAe,CAAC,eAAe,CAAC;QAC5D,IAAM,WAAW,GAAG,eAAe,CAAC,CAAC,CAAC,qBAAqB,CAAC,KAAM,CAAC,MAAM,EAAE,cAAc,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAClI,IAAM,sBAAsB,GAAG,eAAe,CAAC,CAAC,CAAC,aAAa,CAAC,YAAY,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAE1H,yFAAyF;QACzF,IAAM,WAAW,GAAiB,IAAI,CAAC,oBAAoB,CAAC,KAAM,EAAE,aAAa,CAAC,CAAC;QAEnF,kDAAkD;QAClD,IAAM,iBAAiB,GAAG,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,EAAE,aAAa,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACtG,IAAM,iBAAiB,GAAG,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAEpG,OAAO,CACL,6BACE,SAAS,EAAG,GAAG,CAAC,yBAAyB,EACvC,MAAM,CAAC,SAAS,EAChB,eAAe,IAAI,+BAA+B,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CACtH,EACD,EAAE,EAAG,WAAW;YAEhB,6BAAK,SAAS,EAAG,GAAG,CAAC,sBAAsB,EAAE,MAAM,CAAC,MAAM,CAAC;gBACzD,0CAAe,QAAQ,mBAAe,MAAM,iBAAa,MAAM,EAAC,EAAE,EAAG,cAAc,EAAG,SAAS,EAAG,MAAM,CAAC,YAAY,IACjH,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;oBAC3B,6BACE,SAAS,EAAG,GAAG,CAAC,+CAA+C,EAAE,MAAM,CAAC,gBAAgB,CAAC,EACzF,OAAO,EAAG,IAAI,CAAC,eAAe,EAC9B,SAAS,EAAG,IAAI,CAAC,gBAAgB,gBACpB,iBAAiB,CAAC,eAAe,CAAC,aAAa,EAAE,OAAO,CAAC,EACtE,IAAI,EAAC,QAAQ,EACb,QAAQ,EAAG,CAAC,IAEV,iBAAiB,CAAC,eAAe,CAAC,aAAa,EAAE,OAAO,CAAC,CACvD;oBACN,CAAC;wBACD,6BAAK,SAAS,EAAG,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,YAAY,CAAC,IACnE,iBAAiB,CAAC,eAAe,CAAC,aAAa,EAAE,OAAO,CAAC,CACvD,CAEJ;gBACN,6BAAK,SAAS,EAAG,GAAG,CAAC,+BAA+B,EAAE,MAAM,CAAC,eAAe,CAAC;oBAC3E,6BAAK,SAAS,EAAG,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,YAAY,CAAC;wBACrE,gCACE,SAAS,EAAG,GAAG,CAAC,sCAAsC,EAAE,MAAM,CAAC,SAAS;gCAEpE,GAAC,oCAAoC,GAAG,MAAM,CAAC,mBAAmB,IAAG,CAAC,iBAAiB;oCAE1F,EACD,QAAQ,EAAG,CAAC,iBAAiB,EAC7B,OAAO,EAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,EACjE,SAAS,EAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,SAAS,mBACpD,WAAW,gBACd,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,kBAAkB,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAChJ,IAAI,EAAC,QAAQ;4BAEb,oBAAC,IAAI,IAAC,QAAQ,EAAG,kBAAkB,GAAK,CAChC;wBACV,gCACE,SAAS,EAAG,GAAG,CAAC,sCAAsC,EAAE,MAAM,CAAC,SAAS;gCAEpE,GAAC,oCAAoC,GAAG,MAAM,CAAC,mBAAmB,IAAG,CAAC,iBAAiB;oCACvF,EACJ,QAAQ,EAAG,CAAC,iBAAiB,EAC7B,OAAO,EAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,EACjE,SAAS,EAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,SAAS,mBACpD,WAAW,gBACd,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,kBAAkB,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAC/I,IAAI,EAAC,QAAQ;4BAEb,oBAAC,IAAI,IAAC,QAAQ,EAAG,mBAAmB,GAAK,CACjC,CACL,CACF,CACH;YACN,oBAAC,SAAS;gBACR,+BACE,SAAS,EAAG,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,KAAK,CAAC,mBACtC,MAAM,0BACC,OAAO,qBACV,cAAc,2BACR,kBAAkB;oBAE1C;wBACE;4BACI,eAAe,IAAI,4BAAI,SAAS,EAAG,GAAG,CAAC,uBAAuB,EAAE,MAAM,CAAC,OAAO,CAAC,GAAK;4BACpF,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK;gCACjC,OAAA,4BACE,SAAS,EAAG,GAAG,CAAC,uBAAuB,EAAE,MAAM,CAAC,OAAO,CAAC,EACxD,IAAI,EAAC,MAAM,EACX,KAAK,EAAC,KAAK,EACX,GAAG,EAAG,KAAK,EACX,KAAK,EAAG,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC,GAAG,YAAY,CAAC,gBAChD,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC,GAAG,YAAY,CAAC,IAEhE,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC,GAAG,YAAY,CAAC,CACzD;4BATL,CASK,CAAC,CACL,CACC;oBACR,+BACE,YAAY,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,EACxF,SAAS,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,IAEhF,KAAM,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,SAAS;wBAC3B,OAAA,4BACE,GAAG,EAAG,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,EACtD,IAAI,EAAC,KAAK;4BAER,eAAe,IAAI,WAAW;gCAC9B,4BACE,SAAS,EAAG,GAAG,CAAC,2BAA2B,EAAE,uBAAuB,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,WAAW,CAAC,EACzG,GAAG,EAAG,SAAS,EACf,KAAK,EAAG,WAAW,IAAI,OAAO,CAAC,sBAAsB,IAAI,MAAM,CAAC,OAAO,CAAC,sBAAsB,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC,gBAC1G,WAAW,IAAI,OAAO,CAAC,sBAAsB,IAAI,MAAM,CAAC,OAAO,CAAC,sBAAsB,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC,EAC5H,KAAK,EAAC,KAAK;oCAEX,6BACE,SAAS,EAAG,GAAG,CACb,mBAAmB,EACnB,MAAM,CAAC,GAAG;4CAER,GAAC,kCAAkC,GAAG,MAAM,CAAC,iBAAiB,IAAG,sBAAsB,KAAK,WAAW,CAAC,SAAS,CAAC;gDAErH;wCAED,kCAAQ,WAAW,CAAC,SAAS,CAAC,CAAS,CACnC,CACH;4BAEL,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,QAAQ;gCACvB,IAAM,eAAe,GAAG,YAAY,CAAC,aAAa,EAAE,GAAG,CAAC,YAAY,CAAC,CAAC;gCACtE,OAAO,4BACL,GAAG,EAAG,GAAG,CAAC,GAAG,EACb,SAAS,EAAG,GAAG,CACb,MAAM,CAAC,UAAU,EACjB,mBAAmB,EACnB,KAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,QAAQ,EAAE,SAAS,CAAC;wCAE/D,GAAC,+BAA+B,GAAG,MAAM,CAAC,cAAc,IAAG,GAAG,CAAC,UAAU,IAAI,CAAC,aAAa,KAAK,aAAa,CAAC,IAAI,IAAI,aAAa,KAAK,aAAa,CAAC,QAAQ,CAAC;wCAC/J,GAAC,8BAA8B,GAAG,MAAM,CAAC,aAAa,IAAG,aAAa,KAAK,aAAa,CAAC,GAAG;wCAC5F,GAAC,iCAAiC,GAAG,MAAM,CAAC,gBAAgB,IAAG,GAAG,CAAC,UAAU,IAAI,aAAa,KAAK,aAAa,CAAC,GAAG;wCACpH,GAAC,8BAA8B,GAAG,MAAM,CAAC,aAAa,IAAG,CAAC,GAAG,CAAC,UAAU;wCACxE,GAAC,6BAA6B,GAAG,MAAM,CAAC,YAAY,IAAG,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,SAAS;wCACtF,GAAC,8BAA8B,GAAG,MAAM,CAAC,cAAc,IAAG,GAAG,CAAC,UAAU,IAAI,CAAC,GAAG,CAAC,SAAS;4CAC1F,EACJ,GAAG,EAAG,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,GAAG,EAAE,eAAe,CAAC,EAAlD,CAAkD,EACnE,OAAO,EAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,EACrD,WAAW,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,EAC1I,YAAY,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,EAC5I,WAAW,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,EAC1I,SAAS,EAAG,aAAa,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS;oCAEtI,6BACE,GAAG,EAAG,GAAG,CAAC,GAAG,GAAG,KAAK,EACrB,SAAS,EAAG,GAAG,CACb,MAAM,CAAC,GAAG;4CAER,GAAC,2BAA2B,GAAG,MAAM,CAAC,UAAU,IAAG,GAAG,CAAC,OAAO;gDAC9D,EACJ,IAAI,EAAG,UAAU,EACjB,SAAS,EAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,QAAQ,CAAC,gBACxD,iBAAiB,CAAC,kBAAkB,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,EAC5E,EAAE,EAAG,eAAe,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,mBACrC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,uBACvC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,EACrD,GAAG,EAAG,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,EAAE,eAAe,CAAC,EAA9C,CAA8C;wCAE/D,6CAAkB,MAAM,IAAG,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAS,CAC7E,CACH,CAAC;;4BACR,CAAC,CAAC,CACC;;oBAnEL,CAmEK,CACN,CACK,CACF,CACE,CACP,CACR,CAAC;;IACJ,CAAC;IAEM,2BAAK,GAAZ;QACE,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;SAC3B;IACH,CAAC;IAEO,gCAAU,GAAlB,UAAmB,OAA2B,EAAE,GAAa,EAAE,eAAwB;QACrF,IAAI,eAAe,EAAE;YACnB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;SAC7B;IACH,CAAC;IAEO,oCAAc,GAAtB,UAAuB,OAA2B,EAAE,GAAa,EAAE,eAAwB;QACzF,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;IAC/B,CAAC;IAEO,0CAAoB,GAA5B,UAA6B,KAAmB,EAAE,aAA4B;QAC5E,IAAM,iBAAiB,GAAQ,EAAE,CAAC;QAElC,QAAQ,aAAa,EAAE;YACrB,KAAK,aAAa,CAAC,KAAK;gBACtB;;;;;;;;;;;;kBAYE;gBAEF,8FAA8F;gBAC9F,KAAK,CAAC,OAAO,CAAC,UAAC,IAAgB,EAAE,SAAiB;oBAChD,IAAI,CAAC,OAAO,CAAC,UAAC,GAAa,EAAE,QAAgB;wBAC3C,IAAM,KAAK,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBACtL,IAAM,KAAK,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBACtL,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBAC7J,IAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;wBAE9J,IAAM,cAAc,GAAG,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC;wBACvC,IAAM,eAAe,GAAG,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;wBACzC,IAAM,iBAAiB,GAAG,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC;wBAC1C,IAAM,kBAAkB,GAAG,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;wBAE5C,IAAI,KAAK,GAAG,EAAE,CAAC;wBACf,IAAI,cAAc,EAAE;4BAClB,KAAK,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,iBAAiB,GAAG,GAAG,CAAC,CAAC;yBACjH;wBACD,IAAI,eAAe,EAAE;4BACnB,KAAK,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,iBAAiB,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;yBACjH;wBACD,IAAI,iBAAiB,EAAE;4BACrB,KAAK,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAqB,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,GAAG,GAAG,CAAC,CAAC;yBACvH;wBACD,IAAI,kBAAkB,EAAE;4BACtB,KAAK,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAqB,GAAG,GAAG,CAAC,CAAC;yBACvH;wBAED,iBAAiB,CAAC,SAAS,GAAG,GAAG,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;oBACxD,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,MAAM;YACR,KAAK,aAAa,CAAC,IAAI,CAAC;YACxB,KAAK,aAAa,CAAC,QAAQ;gBACzB,KAAK,CAAC,OAAO,CAAC,UAAC,IAAgB,EAAE,SAAiB;oBAChD,IAAM,SAAS,GAAG,MAAM,CAAC,iBAAiB,GAAG,GAAG,GAAG,MAAM,CAAC,oBAAoB,CAAC;oBAC/E,IAAM,UAAU,GAAG,MAAM,CAAC,kBAAkB,GAAG,GAAG,GAAG,MAAM,CAAC,qBAAqB,CAAC;oBAClF,iBAAiB,CAAC,SAAS,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;oBAC3E,iBAAiB,CAAC,SAAS,GAAG,GAAG,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC9F,CAAC,CAAC,CAAC;gBACH,MAAM;SACT;QAED,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAEO,gDAA0B,GAAlC,UAAmC,WAAyB,EAAE,QAAgB,EAAE,SAAiB;QAC/F,IAAM,WAAW,GAAG,WAAW,CAAC,SAAS,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3G,OAAO,WAAW,CAAC;IACrB,CAAC;IAEO,wCAAkB,GAA1B,UAA2B,EAAoC,EAAE,IAAU,EAAE,SAAiB,EAAE,QAAgB;QACxG,IAAA,eAAiC,EAA/B,oBAAO,EAAE,oBAAO,CAAgB;QACxC,IAAI,UAAU,GAAqB,SAAS,CAAC;QAE7C,IAAI,SAAS,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,gBAAgB,EAAE;YAC/C,UAAU,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;SACjC;aAAM,IAAI,SAAS,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAM,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,kBAAkB,EAAE;YACrF,UAAU,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAChC;aAAM,IAAI,QAAQ,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,iBAAiB,eAAe,EAAE;YAC1E,UAAU,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;SAChC;aAAM,IAAI,QAAQ,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,iBAAiB,gBAAgB,EAAE;YAC5F,UAAU,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAC/B;QAED,uCAAuC;QACvC,IAAI,UAAU,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;YAC5I,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAC5C,EAAE,CAAC,cAAc,EAAE,CAAC;SACrB;IACH,CAAC;IA+HO,6CAAuB,GAA/B,UAAgC,IAA0E;QAA1G,iBASC;QARC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAAgB,EAAE,SAAiB;gBACvD,IAAI,CAAC,GAAG,CAAC,UAAA,GAAG;oBACV,IAAM,GAAG,GAAG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC/B,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAoEO,+BAAS,GAAjB,UAAkB,UAA6B;QAE3C,IAAA,wCAAa,EACb,sCAAY,EACZ,wCAAa,EACb,0CAAc,EACd,wBAAK,EACL,4BAAO,EACP,4BAAO,EACP,wDAAqB,EACrB,sCAAY,CACC;QACf,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE,aAAa,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QAChF,IAAM,UAAU,GAAG,KAAK,IAAI,IAAI,IAAI,EAAE,CAAC;QACvC,IAAM,KAAK,GAAiB,EAAE,CAAC;QAE/B,gEAAgE;QAChE,OAAO,IAAI,CAAC,MAAM,EAAE,KAAK,cAAc,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;SAClC;QAED,mEAAmE;QACnE,IAAI,yBAAyB,GAAG,KAAK,CAAC;QAEtC,qDAAqD;QACrD,IAAM,qBAAqB,GAAG,aAAa,KAAK,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;QAC5G,IAAI,aAAa,GAAG,iBAAiB,CAAC,YAAY,EAAE,qBAAqB,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;QACzG,IAAI,aAAa,KAAK,aAAa,CAAC,GAAG,EAAE;YACvC,aAAa,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;SAC5E;QAED,IAAI,cAAc,GAAG,IAAI,CAAC;QAE1B,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,cAAc,EAAE,SAAS,EAAE,EAAE;YACnD,IAAM,IAAI,GAAe,EAAE,CAAC;YAE5B,yBAAyB,GAAG,IAAI,CAAC;YAEjC,KAAK,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,YAAY,EAAE,QAAQ,EAAE,EAAE;gBAC1D,IAAM,YAAY,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC/C,IAAM,OAAO,GAAa;oBACxB,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE;oBACpB,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;oBAC/B,YAAY,EAAE,YAAY;oBAC1B,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,aAAa,CAAC,QAAQ,EAAE;oBACvD,OAAO,EAAE,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;oBACvC,UAAU,EAAE,kBAAkB,CAAC,IAAI,EAAE,aAAa,CAAC;oBACnD,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC;oBACvD,UAAU,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;iBAC3H,CAAC;gBAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAEnB,IAAI,OAAO,CAAC,SAAS,EAAE;oBACrB,yBAAyB,GAAG,KAAK,CAAC;iBACnC;gBAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;aAClC;YAED,qFAAqF;YACrF,cAAc,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,IAAI,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;YACrH,IAAI,cAAc,EAAE;gBAClB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClB;SACF;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,0CAAoB,GAA5B,UAA6B,SAAiB,EAAE,OAAc,EAAE,OAAc;QAC5E,IAAI,gBAAgB,GAAO,SAAS,QAAC,CAAC;QACtC,IAAI,OAAO,EAAE;YACX,gBAAgB,GAAG,gBAAgB,CAAC,MAAM,CAAC,UAAC,IAAI,IAAK,OAAA,eAAe,CAAC,IAAI,EAAE,OAAe,CAAC,IAAI,CAAC,EAA3C,CAA2C,CAAC,CAAC;SACnG;QACD,IAAI,OAAO,EAAE;YACX,gBAAgB,GAAG,gBAAgB,CAAC,MAAM,CAAC,UAAC,IAAI,IAAK,OAAA,eAAe,CAAC,IAAI,EAAE,OAAe,CAAC,IAAI,CAAC,EAA3C,CAA2C,CAAC,CAAC;SACnG;QACD,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IACH,kBAAC;AAAD,CAAC,AAllBD,CAAiC,aAAa,GAklB7C","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  KeyCodes,\n  css,\n  getId,\n  getRTL,\n  getRTLSafeKeyCode,\n  format\n} from '../../Utilities';\nimport { ICalendarStrings, ICalendarIconStrings, ICalendarFormatDateCallbacks } from './Calendar.types';\nimport { DayOfWeek, FirstWeekOfYear, DateRangeType } from '../../utilities/dateValues/DateValues';\nimport { FocusZone } from '../../FocusZone';\nimport { Icon } from '../../Icon';\nimport {\n  addDays,\n  addWeeks,\n  addMonths,\n  compareDates,\n  compareDatePart,\n  getDateRangeArray,\n  isInDateRangeArray,\n  getWeekNumber,\n  getWeekNumbersInMonth,\n  getMonthStart,\n  getMonthEnd\n} from '../../utilities/dateMath/DateMath';\n\nimport * as stylesImport from './Calendar.scss';\nconst styles: any = stylesImport;\n\nconst DAYS_IN_WEEK = 7;\n\nexport interface IDayInfo {\n  key: string;\n  date: string;\n  originalDate: Date;\n  isInMonth: boolean;\n  isToday: boolean;\n  isSelected: boolean;\n  isInBounds: boolean;\n  onSelected: () => void;\n}\n\nexport interface ICalendarDay {\n  focus(): void;\n}\n\nexport interface ICalendarDayProps extends React.Props<CalendarDay> {\n  componentRef?: (c: ICalendarDay) => void;\n  strings: ICalendarStrings;\n  selectedDate: Date;\n  navigatedDate: Date;\n  onSelectDate: (date: Date, selectedDateRangeArray?: Date[]) => void;\n  onNavigateDate: (date: Date, focusOnNavigatedDay: boolean) => void;\n  onDismiss?: () => void;\n  firstDayOfWeek: DayOfWeek;\n  dateRangeType: DateRangeType;\n  autoNavigateOnSelection: boolean;\n  navigationIcons: ICalendarIconStrings;\n  today?: Date;\n  onHeaderSelect?: (focus: boolean) => void;\n  showWeekNumbers?: boolean;\n  firstWeekOfYear: FirstWeekOfYear;\n  dateTimeFormatter: ICalendarFormatDateCallbacks;\n  showSixWeeksByDefault?: boolean;\n  minDate?: Date;\n  maxDate?: Date;\n  workWeekDays?: DayOfWeek[];\n}\n\nexport interface ICalendarDayState {\n  activeDescendantId?: string;\n  weeks?: IDayInfo[][];\n}\n\ninterface IWeekCorners {\n  [key: string]: string;\n}\n\nexport class CalendarDay extends BaseComponent<ICalendarDayProps, ICalendarDayState> {\n  private navigatedDay: HTMLElement | null;\n  private days: { [key: string]: HTMLElement | null } = {};\n\n  public constructor(props: ICalendarDayProps) {\n    super(props);\n\n    this.state = {\n      activeDescendantId: getId('DatePickerDay-active'),\n      weeks: this._getWeeks(props)\n    };\n\n    this._onSelectNextMonth = this._onSelectNextMonth.bind(this);\n    this._onSelectPrevMonth = this._onSelectPrevMonth.bind(this);\n  }\n\n  public componentWillReceiveProps(nextProps: ICalendarDayProps): void {\n    this.setState({\n      weeks: this._getWeeks(nextProps)\n    });\n  }\n\n  public render(): JSX.Element {\n    const { activeDescendantId, weeks } = this.state;\n    const { firstDayOfWeek, strings, navigatedDate, selectedDate, dateRangeType, navigationIcons, showWeekNumbers, firstWeekOfYear, dateTimeFormatter, minDate, maxDate } = this.props;\n    const dayPickerId = getId('DatePickerDay-dayPicker');\n    const monthAndYearId = getId('DatePickerDay-monthAndYear');\n    const leftNavigationIcon = navigationIcons.leftNavigation;\n    const rightNavigationIcon = navigationIcons.rightNavigation;\n    const weekNumbers = showWeekNumbers ? getWeekNumbersInMonth(weeks!.length, firstDayOfWeek, firstWeekOfYear, navigatedDate) : null;\n    const selectedDateWeekNumber = showWeekNumbers ? getWeekNumber(selectedDate, firstDayOfWeek, firstWeekOfYear) : undefined;\n\n    // When the month is highlighted get the corner dates so that styles can be added to them\n    const weekCorners: IWeekCorners = this._getWeekCornerStyles(weeks!, dateRangeType);\n\n    // determine if previous/next months are in bounds\n    const prevMonthInBounds = minDate ? compareDatePart(minDate, getMonthStart(navigatedDate)) < 0 : true;\n    const nextMonthInBounds = maxDate ? compareDatePart(getMonthEnd(navigatedDate), maxDate) < 0 : true;\n\n    return (\n      <div\n        className={ css('ms-DatePicker-dayPicker',\n          styles.dayPicker,\n          showWeekNumbers && 'ms-DatePicker-showWeekNumbers' && (getRTL() ? styles.showWeekNumbersRTL : styles.showWeekNumbers)\n        ) }\n        id={ dayPickerId }\n      >\n        <div className={ css('ms-DatePicker-header', styles.header) } >\n          <div aria-live='polite' aria-relevant='text' aria-atomic='true' id={ monthAndYearId } className={ styles.monthAndYear } >\n            { this.props.onHeaderSelect ?\n              <div\n                className={ css('ms-DatePicker-monthAndYear js-showMonthPicker', styles.headerToggleView) }\n                onClick={ this._onHeaderSelect }\n                onKeyDown={ this._onHeaderKeyDown }\n                aria-label={ dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\n                role='button'\n                tabIndex={ 0 }\n              >\n                { dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\n              </div>\n              :\n              <div className={ css('ms-DatePicker-monthAndYear', styles.monthAndYear) }>\n                { dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\n              </div>\n            }\n          </div>\n          <div className={ css('ms-DatePicker-monthComponents', styles.monthComponents) }>\n            <div className={ css('ms-DatePicker-navContainer', styles.navContainer) }>\n              <button\n                className={ css('ms-DatePicker-prevMonth js-prevMonth', styles.prevMonth,\n                  {\n                    ['ms-DatePicker-prevMonth--disabled ' + styles.prevMonthIsDisabled]: !prevMonthInBounds\n                  }\n                ) }\n                disabled={ !prevMonthInBounds }\n                onClick={ prevMonthInBounds ? this._onSelectPrevMonth : undefined }\n                onKeyDown={ prevMonthInBounds ? this._onPrevMonthKeyDown : undefined }\n                aria-controls={ dayPickerId }\n                aria-label={ strings.prevMonthAriaLabel ? strings.prevMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, -1).getMonth()] : undefined }\n                role='button'\n              >\n                <Icon iconName={ leftNavigationIcon } />\n              </button >\n              <button\n                className={ css('ms-DatePicker-nextMonth js-nextMonth', styles.nextMonth,\n                  {\n                    ['ms-DatePicker-nextMonth--disabled ' + styles.nextMonthIsDisabled]: !nextMonthInBounds\n                  }) }\n                disabled={ !nextMonthInBounds }\n                onClick={ nextMonthInBounds ? this._onSelectNextMonth : undefined }\n                onKeyDown={ nextMonthInBounds ? this._onNextMonthKeyDown : undefined }\n                aria-controls={ dayPickerId }\n                aria-label={ strings.nextMonthAriaLabel ? strings.nextMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, 1).getMonth()] : undefined }\n                role='button'\n              >\n                <Icon iconName={ rightNavigationIcon } />\n              </button >\n            </div >\n          </div >\n        </div>\n        <FocusZone>\n          <table\n            className={ css('ms-DatePicker-table', styles.table) }\n            aria-readonly='true'\n            aria-multiselectable='false'\n            aria-labelledby={ monthAndYearId }\n            aria-activedescendant={ activeDescendantId }\n          >\n            <thead>\n              <tr>\n                { showWeekNumbers && <th className={ css('ms-DatePicker-weekday', styles.weekday) } /> }\n                { strings.shortDays.map((val, index) =>\n                  <th\n                    className={ css('ms-DatePicker-weekday', styles.weekday) }\n                    role='grid'\n                    scope='col'\n                    key={ index }\n                    title={ strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\n                    aria-label={ strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\n                  >\n                    { strings.shortDays[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\n                  </th>) }\n              </tr>\n            </thead>\n            <tbody\n              onMouseLeave={ dateRangeType !== DateRangeType.Day ? this._onTableMouseLeave : undefined }\n              onMouseUp={ dateRangeType !== DateRangeType.Day ? this._onTableMouseUp : undefined }\n            >\n              { weeks!.map((week, weekIndex) =>\n                <tr\n                  key={ weekNumbers ? weekNumbers[weekIndex] : weekIndex }\n                  role='row'\n                >\n                  { showWeekNumbers && weekNumbers &&\n                    <th\n                      className={ css('ms-DatePicker-weekNumbers', 'ms-DatePicker-weekday', styles.weekday, styles.weekNumbers) }\n                      key={ weekIndex }\n                      title={ weekNumbers && strings.weekNumberFormatString && format(strings.weekNumberFormatString, weekNumbers[weekIndex]) }\n                      aria-label={ weekNumbers && strings.weekNumberFormatString && format(strings.weekNumberFormatString, weekNumbers[weekIndex]) }\n                      scope='row'\n                    >\n                      <div\n                        className={ css(\n                          'ms-DatePicker-day',\n                          styles.day,\n                          {\n                            ['ms-DatePicker-week--highlighted ' + styles.weekIsHighlighted]: selectedDateWeekNumber === weekNumbers[weekIndex]\n                          }\n                        ) }\n                      >\n                        <span>{ weekNumbers[weekIndex] }</span>\n                      </div>\n                    </th>\n                  }\n                  { week.map((day, dayIndex) => {\n                    const isNavigatedDate = compareDates(navigatedDate, day.originalDate);\n                    return <td\n                      key={ day.key }\n                      className={ css(\n                        styles.dayWrapper,\n                        'ms-DatePicker-day',\n                        this._getHighlightedCornerStyle(weekCorners, dayIndex, weekIndex),\n                        {\n                          ['ms-DatePicker-weekBackground ' + styles.weekBackground]: day.isSelected && (dateRangeType === DateRangeType.Week || dateRangeType === DateRangeType.WorkWeek),\n                          ['ms-DatePicker-dayBackground ' + styles.dayBackground]: dateRangeType === DateRangeType.Day,\n                          ['ms-DatePicker-day--highlighted ' + styles.dayIsHighlighted]: day.isSelected && dateRangeType === DateRangeType.Day,\n                          ['ms-DatePicker-day--disabled ' + styles.dayIsDisabled]: !day.isInBounds,\n                          ['ms-DatePicker-day--infocus ' + styles.dayIsFocused]: day.isInBounds && day.isInMonth,\n                          ['ms-DatePicker-day--outfocus ' + styles.dayIsUnfocused]: day.isInBounds && !day.isInMonth,\n                        }) }\n                      ref={ element => this._setDayCellRef(element, day, isNavigatedDate) }\n                      onClick={ day.isInBounds ? day.onSelected : undefined }\n                      onMouseOver={ dateRangeType !== DateRangeType.Day ? this._onDayMouseOver(day.originalDate, weekIndex, dayIndex, dateRangeType) : undefined }\n                      onMouseLeave={ dateRangeType !== DateRangeType.Day ? this._onDayMouseLeave(day.originalDate, weekIndex, dayIndex, dateRangeType) : undefined }\n                      onMouseDown={ dateRangeType !== DateRangeType.Day ? this._onDayMouseDown(day.originalDate, weekIndex, dayIndex, dateRangeType) : undefined }\n                      onMouseUp={ dateRangeType !== DateRangeType.Day ? this._onDayMouseUp(day.originalDate, weekIndex, dayIndex, dateRangeType) : undefined }\n                    >\n                      <div\n                        key={ day.key + 'div' }\n                        className={ css(\n                          styles.day,\n                          {\n                            ['ms-DatePicker-day--today ' + styles.dayIsToday]: day.isToday,\n                          }) }\n                        role={ 'gridcell' }\n                        onKeyDown={ this._onDayKeyDown(day.originalDate, weekIndex, dayIndex) }\n                        aria-label={ dateTimeFormatter.formatMonthDayYear(day.originalDate, strings) }\n                        id={ isNavigatedDate ? activeDescendantId : undefined }\n                        aria-selected={ day.isInBounds ? day.isSelected : undefined }\n                        data-is-focusable={ day.isInBounds ? true : undefined }\n                        ref={ element => this._setDayRef(element, day, isNavigatedDate) }\n                      >\n                        <span aria-hidden='true'>{ dateTimeFormatter.formatDay(day.originalDate) }</span>\n                      </div>\n                    </td>;\n                  }) }\n                </tr>\n              ) }\n            </tbody>\n          </table>\n        </FocusZone>\n      </div >\n    );\n  }\n\n  public focus() {\n    if (this.navigatedDay) {\n      this.navigatedDay.tabIndex = 0;\n      this.navigatedDay.focus();\n    }\n  }\n\n  private _setDayRef(element: HTMLElement | null, day: IDayInfo, isNavigatedDate: boolean): void {\n    if (isNavigatedDate) {\n      this.navigatedDay = element;\n    }\n  }\n\n  private _setDayCellRef(element: HTMLElement | null, day: IDayInfo, isNavigatedDate: boolean): void {\n    this.days[day.key] = element;\n  }\n\n  private _getWeekCornerStyles(weeks: IDayInfo[][], dateRangeType: DateRangeType): IWeekCorners {\n    const weekCornersStyled: any = {};\n\n    switch (dateRangeType) {\n      case DateRangeType.Month:\n        /* need to handle setting all of the corners on arbitrarily shaped blobs\n              __\n           __|A |\n          |B |C |__\n          |D |E |F |\n\n          in this case, A needs top left rounded, top right rounded\n          B needs top left rounded\n          C doesn't need any rounding\n          D needs bottom left rounded\n          E doesn't need any rounding\n          F needs top right rounding\n        */\n\n        // if there's an item above, lose both top corners. Item below, lose both bottom corners, etc.\n        weeks.forEach((week: IDayInfo[], weekIndex: number) => {\n          week.forEach((day: IDayInfo, dayIndex: number) => {\n            const above = weeks[weekIndex - 1] && weeks[weekIndex - 1][dayIndex] && weeks[weekIndex - 1][dayIndex].originalDate.getMonth() === weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const below = weeks[weekIndex + 1] && weeks[weekIndex + 1][dayIndex] && weeks[weekIndex + 1][dayIndex].originalDate.getMonth() === weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const left = weeks[weekIndex][dayIndex - 1] && weeks[weekIndex][dayIndex - 1].originalDate.getMonth() === weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const right = weeks[weekIndex][dayIndex + 1] && weeks[weekIndex][dayIndex + 1].originalDate.getMonth() === weeks[weekIndex][dayIndex].originalDate.getMonth();\n\n            const roundedTopLeft = !above && !left;\n            const roundedTopRight = !above && !right;\n            const roundedBottomLeft = !below && !left;\n            const roundedBottomRight = !below && !right;\n\n            let style = '';\n            if (roundedTopLeft) {\n              style = getRTL() ? style.concat(styles.topRightCornerDate + ' ') : style.concat(styles.topLeftCornerDate + ' ');\n            }\n            if (roundedTopRight) {\n              style = getRTL() ? style.concat(styles.topLeftCornerDate + ' ') : style.concat(styles.topRightCornerDate + ' ');\n            }\n            if (roundedBottomLeft) {\n              style = getRTL() ? style.concat(styles.bottomRightCornerDate + ' ') : style.concat(styles.bottomLeftCornerDate + ' ');\n            }\n            if (roundedBottomRight) {\n              style = getRTL() ? style.concat(styles.bottomLeftCornerDate + ' ') : style.concat(styles.bottomRightCornerDate + ' ');\n            }\n\n            weekCornersStyled[weekIndex + '_' + dayIndex] = style;\n          });\n        });\n        break;\n      case DateRangeType.Week:\n      case DateRangeType.WorkWeek:\n        weeks.forEach((week: IDayInfo[], weekIndex: number) => {\n          const leftStyle = styles.topLeftCornerDate + ' ' + styles.bottomLeftCornerDate;\n          const rightStyle = styles.topRightCornerDate + ' ' + styles.bottomRightCornerDate;\n          weekCornersStyled[weekIndex + '_' + 0] = getRTL() ? rightStyle : leftStyle;\n          weekCornersStyled[weekIndex + '_' + (DAYS_IN_WEEK - 1)] = getRTL() ? leftStyle : rightStyle;\n        });\n        break;\n    }\n\n    return weekCornersStyled;\n  }\n\n  private _getHighlightedCornerStyle(weekCorners: IWeekCorners, dayIndex: number, weekIndex: number): string {\n    const cornerStyle = weekCorners[weekIndex + '_' + dayIndex] ? weekCorners[weekIndex + '_' + dayIndex] : '';\n    return cornerStyle;\n  }\n\n  private _navigateMonthEdge(ev: React.KeyboardEvent<HTMLElement>, date: Date, weekIndex: number, dayIndex: number): void {\n    const { minDate, maxDate } = this.props;\n    let targetDate: Date | undefined = undefined;\n\n    if (weekIndex === 0 && ev.which === KeyCodes.up) {\n      targetDate = addWeeks(date, -1);\n    } else if (weekIndex === (this.state.weeks!.length - 1) && ev.which === KeyCodes.down) {\n      targetDate = addWeeks(date, 1);\n    } else if (dayIndex === 0 && ev.which === getRTLSafeKeyCode(KeyCodes.left)) {\n      targetDate = addDays(date, -1);\n    } else if (dayIndex === (DAYS_IN_WEEK - 1) && ev.which === getRTLSafeKeyCode(KeyCodes.right)) {\n      targetDate = addDays(date, 1);\n    }\n\n    // Don't navigate to out-of-bounds date\n    if (targetDate && (minDate ? compareDatePart(minDate, targetDate) < 1 : true) && (maxDate ? compareDatePart(targetDate, maxDate) < 1 : true)) {\n      this.props.onNavigateDate(targetDate, true);\n      ev.preventDefault();\n    }\n  }\n\n  private _onKeyDown = (callback: () => void, ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) {\n      callback();\n    }\n  }\n\n  private _onDayKeyDown = (originalDate: Date, weekIndex: number, dayIndex: number)\n    : (ev: React.KeyboardEvent<HTMLElement>) => void => {\n    return (ev: React.KeyboardEvent<HTMLElement>): void => {\n      this._navigateMonthEdge(ev, originalDate, weekIndex, dayIndex);\n    };\n  }\n\n  private _onDayMouseDown = (originalDate: Date, weekIndex: number, dayIndex: number, dateRangeType: DateRangeType)\n    : (ev: React.MouseEvent<HTMLElement>) => void => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // set the press styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth()) {\n            ref.classList.add(styles.dayPress);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex) {\n            ref.classList.add(styles.dayPress);\n            ref.classList.add(styles.dayIsHighlighted);\n          } else if (ref) {\n            ref.classList.remove(styles.dayIsHighlighted);\n          }\n        });\n      }\n    };\n  }\n\n  private _onDayMouseUp = (originalDate: Date, weekIndex: number, dayIndex: number, dateRangeType: DateRangeType)\n    : (ev: React.MouseEvent<HTMLElement>) => void => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // remove press styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth()) {\n            ref.classList.remove(styles.dayPress);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex) {\n            ref.classList.remove(styles.dayPress);\n          }\n        });\n      }\n    };\n  }\n\n  private _onDayMouseOver = (originalDate: Date, weekIndex: number, dayIndex: number, dateRangeType: DateRangeType)\n    : (ev: React.MouseEvent<HTMLElement>) => void => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // set the hover styling on every day in the same month\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth()) {\n            ref.classList.add(styles.dayHover);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex) {\n            ref.classList.add(styles.dayHover);\n          }\n        });\n      }\n    };\n  }\n\n  private _onDayMouseLeave = (originalDate: Date, weekIndex: number, dayIndex: number, dateRangeType: DateRangeType)\n    : (ev: React.MouseEvent<HTMLElement>) => void => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // remove the hover and pressed styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth()) {\n            ref.classList.remove(styles.dayHover);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex) {\n            ref.classList.remove(styles.dayHover);\n          }\n        });\n      }\n    };\n  }\n\n  private _onTableMouseLeave = (ev: React.MouseEvent<HTMLElement>): void => {\n    if ((ev.target as HTMLElement).contains && ev.relatedTarget && (ev.relatedTarget as HTMLElement).contains && (ev.target as HTMLElement).contains(ev.relatedTarget as HTMLElement)) {\n      return;\n    }\n\n    this._applyFunctionToDayRefs((ref, day) => {\n      if (ref) {\n        ref.classList.remove(styles.dayHover);\n        ref.classList.remove(styles.dayPress);\n      }\n    });\n  }\n\n  private _onTableMouseUp = (ev: React.MouseEvent<HTMLElement>): void => {\n    if ((ev.target as HTMLElement).contains && ev.relatedTarget && (ev.relatedTarget as HTMLElement).contains && (ev.target as HTMLElement).contains(ev.relatedTarget as HTMLElement)) {\n      return;\n    }\n\n    this._applyFunctionToDayRefs((ref, day) => {\n      if (ref) {\n        ref.classList.remove(styles.dayPress);\n      }\n    });\n  }\n\n  private _applyFunctionToDayRefs(func: (ref: HTMLElement | null, day: IDayInfo, weekIndex?: number) => void) {\n    if (this.state.weeks) {\n      this.state.weeks.map((week: IDayInfo[], weekIndex: number) => {\n        week.map(day => {\n          const ref = this.days[day.key];\n          func(ref, day, weekIndex);\n        });\n      });\n    }\n  }\n\n  private _onSelectDate = (selectedDate: Date): void => {\n    const {\n      onSelectDate,\n      dateRangeType,\n      firstDayOfWeek,\n      navigatedDate,\n      autoNavigateOnSelection,\n      minDate,\n      maxDate,\n      workWeekDays\n    } = this.props;\n\n    let dateRange = getDateRangeArray(selectedDate, dateRangeType, firstDayOfWeek, workWeekDays);\n    if (dateRangeType !== DateRangeType.Day) {\n      dateRange = this._getBoundedDateRange(dateRange, minDate, maxDate);\n    }\n\n    if (onSelectDate) {\n      onSelectDate(selectedDate, dateRange);\n    }\n\n    // Navigate to next or previous month if needed\n    if (autoNavigateOnSelection && selectedDate.getMonth() !== navigatedDate.getMonth()) {\n      const compareResult = compareDatePart(selectedDate, navigatedDate);\n      if (compareResult < 0) {\n        this._onSelectPrevMonth();\n      } else if (compareResult > 0) {\n        this._onSelectNextMonth();\n      }\n    }\n  }\n\n  private _onSelectNextMonth = (): void => {\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, 1), false);\n  }\n\n  private _onSelectPrevMonth = (): void => {\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, -1), false);\n  }\n\n  private _onHeaderSelect = (): void => {\n    const { onHeaderSelect } = this.props;\n    if (onHeaderSelect) {\n      onHeaderSelect(true);\n    }\n  }\n\n  private _onHeaderKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    const { onHeaderSelect } = this.props;\n    if (onHeaderSelect && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\n      onHeaderSelect(true);\n    }\n  }\n\n  private _onPrevMonthKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectPrevMonth, ev);\n    }\n  }\n\n  private _onNextMonthKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectNextMonth, ev);\n    }\n  }\n\n  private _getWeeks(propsToUse: ICalendarDayProps): IDayInfo[][] {\n    const {\n      navigatedDate,\n      selectedDate,\n      dateRangeType,\n      firstDayOfWeek,\n      today,\n      minDate,\n      maxDate,\n      showSixWeeksByDefault,\n      workWeekDays\n    } = propsToUse;\n    const date = new Date(navigatedDate.getFullYear(), navigatedDate.getMonth(), 1);\n    const todaysDate = today || new Date();\n    const weeks: IDayInfo[][] = [];\n\n    // Cycle the date backwards to get to the first day of the week.\n    while (date.getDay() !== firstDayOfWeek) {\n      date.setDate(date.getDate() - 1);\n    }\n\n    // a flag to indicate whether all days of the week are in the month\n    let isAllDaysOfWeekOutOfMonth = false;\n\n    // in work week view we want to select the whole week\n    const selectedDateRangeType = dateRangeType === DateRangeType.WorkWeek ? DateRangeType.Week : dateRangeType;\n    let selectedDates = getDateRangeArray(selectedDate, selectedDateRangeType, firstDayOfWeek, workWeekDays);\n    if (dateRangeType !== DateRangeType.Day) {\n      selectedDates = this._getBoundedDateRange(selectedDates, minDate, maxDate);\n    }\n\n    let shouldGetWeeks = true;\n\n    for (let weekIndex = 0; shouldGetWeeks; weekIndex++) {\n      const week: IDayInfo[] = [];\n\n      isAllDaysOfWeekOutOfMonth = true;\n\n      for (let dayIndex = 0; dayIndex < DAYS_IN_WEEK; dayIndex++) {\n        const originalDate = new Date(date.toString());\n        const dayInfo: IDayInfo = {\n          key: date.toString(),\n          date: date.getDate().toString(),\n          originalDate: originalDate,\n          isInMonth: date.getMonth() === navigatedDate.getMonth(),\n          isToday: compareDates(todaysDate, date),\n          isSelected: isInDateRangeArray(date, selectedDates),\n          onSelected: this._onSelectDate.bind(this, originalDate),\n          isInBounds: (minDate ? compareDatePart(minDate, date) < 1 : true) && (maxDate ? compareDatePart(date, maxDate) < 1 : true)\n        };\n\n        week.push(dayInfo);\n\n        if (dayInfo.isInMonth) {\n          isAllDaysOfWeekOutOfMonth = false;\n        }\n\n        date.setDate(date.getDate() + 1);\n      }\n\n      // We append the condition of the loop depending upon the showSixWeeksByDefault prop.\n      shouldGetWeeks = showSixWeeksByDefault ? (!isAllDaysOfWeekOutOfMonth || weekIndex <= 5) : !isAllDaysOfWeekOutOfMonth;\n      if (shouldGetWeeks) {\n        weeks.push(week);\n      }\n    }\n\n    return weeks;\n  }\n\n  private _getBoundedDateRange(dateRange: Date[], minDate?: Date, maxDate?: Date): Date[] {\n    let boundedDateRange = [...dateRange];\n    if (minDate) {\n      boundedDateRange = boundedDateRange.filter((date) => compareDatePart(date, minDate as Date) >= 0);\n    }\n    if (maxDate) {\n      boundedDateRange = boundedDateRange.filter((date) => compareDatePart(date, maxDate as Date) <= 0);\n    }\n    return boundedDateRange;\n  }\n}"]}