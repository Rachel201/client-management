{"version":3,"file":"Panel.js","sourceRoot":"../src/","sources":["components/Panel/Panel.tsx"],"names":[],"mappings":";;;IAoBA,IAAM,MAAM,GAAQ,YAAY,CAAC;IACjC,IAAM,KAAK,GAAG,kBAAQ,EAAE,CAAC;IASzB;QAA2B,iCAAuC;QAahE,eAAY,KAAkB;YAA9B,YACE,kBAAM,KAAK,CAAC,SAcb;YAlBO,YAAM,GAAG,qBAAS,EAAkB,CAAC;YACrC,cAAQ,GAAG,qBAAS,EAAkB,CAAC;YAwLxC,aAAO,GAAG;gBACf,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE;oBACrB,KAAI,CAAC,QAAQ,CAAC;wBACZ,MAAM,EAAE,KAAK;wBACb,WAAW,EAAE,IAAI;qBAClB,EAAE;wBACD,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAI,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBAEH,IAAI,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE;wBACxB,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;qBACxB;iBACF;YACH,CAAC,CAAA;YAMO,yBAAmB,GAAG,UAAC,KAAkB;gBAE7C,IAAA,iDAAoB,EACpB,qCAAc,CACN;gBACV,IAAI,cAAc,EAAE;oBAClB,OAAO,CACL,6BAAK,SAAS,EAAG,eAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,UAAU,CAAC;wBAC5D,oBAAC,mBAAU,IACT,MAAM,EACJ;gCACE,IAAI,EAAE;oCACJ,MAAM,EAAE,MAAM;oCACd,KAAK,EAAE,MAAM;oCACb,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,gBAAgB;oCACrC,QAAQ,EAAE,uBAAa,CAAC,KAAK;iCAC9B;gCACD,WAAW,EAAE;oCACX,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,cAAc;iCACpC;6BACF,EAEH,SAAS,EAAG,eAAG,CAAC,2CAA2C,CAAC,EAC5D,OAAO,EAAG,KAAI,CAAC,aAAa,EAC5B,SAAS,EAAG,oBAAoB,qBACd,IAAI,EACtB,SAAS,EAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAClC,CACE,CACP,CAAC;iBACH;gBACD,OAAO,IAAI,CAAC;YACd,CAAC,CAAA;YAEO,qBAAe,GAAG,UACxB,KAAkB,EAClB,aAA2D,EAC3D,YAAiC;gBAG/B,IAAA,6BAAU,EACV,0BAAoB,EAApB,yCAAoB,CACZ;gBAEV,IAAI,UAAU,EAAE;oBACd,OAAO,CACL,6BAAK,SAAS,EAAG,eAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,MAAM,CAAC;wBACpD,2BACE,SAAS,EAAG,eAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,UAAU,EAAE,eAAe,CAAC,EAC1E,EAAE,EAAG,YAAY,EACjB,IAAI,EAAC,SAAS,IAEZ,UAAU,CACV,CACA,CACP,CAAC;iBACH;gBACD,OAAO,IAAI,CAAC;YACd,CAAC,CAAA;YAEO,mBAAa,GAAG,UAAC,KAAkB;gBACzC,IAAM,YAAY,GAAG,eAAG,CACtB,kBAAkB,EAClB,MAAM,CAAC,OAAO,EACd,KAAK,CAAC,gBAAgB,IAAI,MAAM,CAAC,WAAW,CAC7C,CAAC;gBAEF,OAAO,CACL,6BAAK,GAAG,EAAG,KAAI,CAAC,QAAQ,EAAG,SAAS,EAAG,YAAY,wBAAwB,IAAI,IAC3E,KAAK,CAAC,QAAQ,CACZ,CACP,CAAC;YACJ,CAAC,CAAA;YAEO,qBAAe,GAAG,UAAC,KAAkB;gBACnC,IAAA,2CAAc,CAAgB;gBAC9B,IAAA,sCAA4B,EAA5B,iDAA4B,CAAgB;gBACpD,IAAI,qBAAqB,EAAE;oBACzB,OAAO,CACL,6BAAK,SAAS,EAAG,eAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,MAAM,EAAE,cAAc,IAAI,MAAM,CAAC,cAAc,CAAC;wBAC7F,6BAAK,SAAS,EAAG,eAAG,CAAC,sBAAsB,EAAE,MAAM,CAAC,WAAW,CAAC,IAC5D,qBAAqB,EAAE,CACrB,CACF,CACP,CAAC;iBACH;gBACD,OAAO,IAAI,CAAC;YACd,CAAC,CAAA;YA4BO,mBAAa,GAAG;gBACtB,KAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC,CAAA;YAEO,2BAAqB,GAAG;gBAC9B,KAAI,CAAC,QAAQ,CAAC;oBACZ,WAAW,EAAE,KAAK;iBACnB,CAAC,CAAC;gBAEH,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,MAAM,IAAI,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE;oBAChD,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;iBAC1B;YACH,CAAC,CAAA;YArUC,KAAI,CAAC,iBAAiB,CAAC;gBACrB,wBAAwB,EAAE,oBAAoB;gBAC9C,sBAAsB,EAAE,oBAAoB;gBAC5C,wBAAwB,EAAE,oBAAoB;aAC/C,CAAC,CAAC;YAEH,KAAI,CAAC,KAAK,GAAG;gBACX,cAAc,EAAE,KAAK;gBACrB,MAAM,EAAE,KAAK;gBACb,WAAW,EAAE,KAAK;gBAClB,EAAE,EAAE,iBAAK,CAAC,OAAO,CAAC;aACnB,CAAC;;QACJ,CAAC;QAEM,iCAAiB,GAAxB;YACE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAE9D,IAAI,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAC/C,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;aAC9E;YAED,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACrB,IAAI,CAAC,IAAI,EAAE,CAAC;aACb;QACH,CAAC;QAEM,kCAAkB,GAAzB,UAA0B,aAA0B;YAClD,IAAM,wBAAwB,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7E,IAAM,gCAAgC,GAAG,IAAI,CAAC,0BAA0B,CAAC,aAAa,CAAC,CAAC;YAExF,IAAI,wBAAwB,IAAI,CAAC,gCAAgC,EAAE;gBACjE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;aAC9E;iBAAM,IAAI,CAAC,wBAAwB,IAAI,gCAAgC,EAAE;gBACxE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;aAC/E;QACH,CAAC;QAEM,yCAAyB,GAAhC,UAAiC,QAAqB;YACpD,IAAI,QAAQ,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACzC,IAAI,QAAQ,CAAC,MAAM,EAAE;oBACnB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;qBAAM;oBACL,IAAI,CAAC,OAAO,EAAE,CAAC;iBAChB;aACF;QACH,CAAC;QAEM,sBAAM,GAAb;YACQ,IAAA,eAoBQ,EAnBZ,iBAAc,EAAd,mCAAc,EACd,oDAAuB,EACvB,kDAAsB,EACtB,0CAAkB,EAClB,8CAAoB,EACpB,kCAAc,EACd,0BAAU,EACV,kDAAsB,EACtB,0BAAU,EACV,kCAAc,EACd,wCAAiB,EACjB,0BAAU,EACV,cAAI,EACJ,4BAAW,EACX,2BAAwC,EAAxC,6DAAwC,EACxC,0BAA6C,EAA7C,kEAA6C,EAC7C,sBAAqC,EAArC,0DAAqC,EACrC,oBAAiC,EAAjC,sDAAiC,EACjC,sBAAqC,EAArC,0DAAqC,CACxB;YACT,IAAA,eAAwC,EAAtC,kBAAM,EAAE,4BAAW,EAAE,UAAE,CAAgB;YAC/C,IAAM,MAAM,GAAG,IAAI,KAAK,uBAAS,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YAChE,IAAM,KAAK,GAAG,kBAAM,EAAE,CAAC;YACvB,IAAM,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YAC/C,IAAM,YAAY,GAAG,UAAU,IAAI,EAAE,GAAG,aAAa,CAAC;YACtD,IAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK,uBAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;YACpF,IAAM,WAAW,GAAG,0BAAc,CAAC,IAAI,CAAC,KAAK,EAAE,yBAAa,CAAC,CAAC;YAE9D,IAAI,CAAC,MAAM,IAAI,CAAC,WAAW,IAAI,CAAC,iBAAiB,EAAE;gBACjD,OAAO,IAAI,CAAC;aACb;YAED,IAAI,OAAO,CAAC;YACZ,IAAI,UAAU,IAAI,MAAM,EAAE;gBACxB,OAAO,GAAG,CACR,oBAAC,iBAAO,IACN,SAAS,EAAG,eAAG,CACb,MAAM,CAAC,OAAO,EACd,MAAM,IAAI,WAAW,IAAI,6BAAmB,CAAC,SAAS,EACtD,CAAC,MAAM,IAAI,WAAW,IAAI,6BAAmB,CAAC,UAAU,CACzD,EACD,YAAY,EAAG,KAAK,EACpB,OAAO,EAAG,cAAc,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,SAAS,GAC1D,CACH,CAAC;aACH;YAED,IAAM,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;YAE9E,OAAO,CACL,oBAAC,aAAK,uBAAM,UAAU;gBACpB,oBAAC,aAAK,IACJ,IAAI,EAAC,QAAQ,EACb,cAAc,EAAG,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,EAClD,SAAS,EAAG,IAAI,CAAC,OAAO,EACxB,SAAS,EACP,eAAG,CACD,CAAC,MAAM,IAAI,CAAC,WAAW,IAAI,iBAAiB,IAAI,MAAM,CAAC,WAAW,CACnE;oBAGH,gDACO,WAAW,IAChB,GAAG,EAAG,IAAI,CAAC,MAAM,EACjB,SAAS,EACP,eAAG,CACD,UAAU,EACV,MAAM,CAAC,IAAI,EACX,SAAS;wBACT,wEAAwE;wBACxE,MAAM,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,EAC1C,IAAI,KAAK,uBAAS,CAAC,UAAU,IAAI,CAAC,oBAAoB,GAAG,MAAM,CAAC,gBAAgB,CAAC,EACjF,IAAI,KAAK,uBAAS,CAAC,cAAc,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,eAAe,CAAC,EACnF,IAAI,KAAK,uBAAS,CAAC,aAAa,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,WAAW,CAAC,EAC1E,IAAI,KAAK,uBAAS,CAAC,MAAM,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,YAAY,CAAC,EACpE,CAAC,IAAI,KAAK,uBAAS,CAAC,KAAK,IAAI,IAAI,KAAK,uBAAS,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,WAAW,CAAC,EACrG,IAAI,KAAK,uBAAS,CAAC,UAAU,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,WAAW,CAAC,EAC1E,IAAI,KAAK,uBAAS,CAAC,UAAU,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,YAAY,CAAC,EACxE,IAAI,KAAK,uBAAS,CAAC,MAAM,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,YAAY,CAAC,EACxE,cAAc,IAAI,CAAC,2BAA2B,GAAG,MAAM,CAAC,kBAAkB,CAAC,EAC3E,CAAC,MAAM,IAAI,CAAC,WAAW,IAAI,iBAAiB,IAAI,MAAM,CAAC,WAAW,CACnE;wBAGD,OAAO;wBACT,oBAAC,qBAAa,qBACZ,sBAAsB,EAAG,sBAAsB,EAC/C,oBAAoB,EAAG,iBAAiB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,oBAAoB,EAClF,sBAAsB,EAAG,sBAAsB,EAC/C,2BAA2B,EAAG,IAAI,IAC7B,kBAAkB,IACvB,SAAS,EACP,eAAG,CACD,eAAe,EACf,MAAM,CAAC,IAAI,EACX,MAAM,IAAI,WAAW,IAAI,CAAC,aAAa,IAAI,6BAAmB,CAAC,cAAc,EAC7E,MAAM,IAAI,WAAW,IAAI,aAAa,IAAI,6BAAmB,CAAC,aAAa,EAC3E,CAAC,MAAM,IAAI,WAAW,IAAI,CAAC,aAAa,IAAI,6BAAmB,CAAC,cAAc,EAC9E,CAAC,MAAM,IAAI,WAAW,IAAI,aAAa,IAAI,6BAAmB,CAAC,eAAe,EAC9E,kBAAkB,CAAC,CAAC,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAC9D,EACH,KAAK,EAAG,iBAAiB,EACzB,uBAAuB,EAAG,uBAAuB;4BAEjD,6BAAK,SAAS,EAAG,eAAG,CAAC,mBAAmB,CAAC,qBAAqB,IAAI,IAC9D,kBAAkB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,mBAAmB,CAAC,CACtD;4BACN,6BAAK,SAAS,EAAG,eAAG,CAAC,uBAAuB,EAAE,MAAM,CAAC,YAAY,CAAC;gCAC9D,MAAM;gCACN,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC;gCAC5C,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAC9C,CACQ,CACZ,CACA,CACF,CACT,CAAC;QACJ,CAAC;QAEM,oBAAI,GAAX;YAAA,iBASC;YARC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACtB,IAAI,CAAC,QAAQ,CAAC;oBACZ,MAAM,EAAE,IAAI;oBACZ,WAAW,EAAE,IAAI;iBAClB,EAAE;oBACD,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAI,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;gBAC1D,CAAC,CAAC,CAAC;aACJ;QACH,CAAC;QAiBO,0CAA0B,GAAlC,UAAmC,KAAkB;YACnD,OAAO,CAAC,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;QAC9C,CAAC;QA2FO,qCAAqB,GAA7B;YACE,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;YACvC,IAAI,QAAQ,EAAE;gBACZ,IAAM,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC;gBACrC,IAAM,aAAW,GAAG,QAAQ,CAAC,YAAY,CAAC;gBAE1C,IAAI,CAAC,QAAQ,CAAC;oBACZ,cAAc,EAAE,MAAM,GAAG,aAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;iBACpD,CAAC,CAAC;aACJ;QACH,CAAC;QAEO,oCAAoB,GAA5B,UAA6B,EAAO;YAClC,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YAClC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,EAAE;gBAC9B,IAAI,CAAC,2BAAe,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE;oBACtC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;wBAC3B,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;wBAC1B,EAAE,CAAC,cAAc,EAAE,CAAC;qBACrB;yBAAM;wBACL,IAAI,CAAC,OAAO,EAAE,CAAC;qBAChB;iBACF;aACF;QACH,CAAC;QArUa,kBAAY,GAAgB;YACxC,iBAAiB,EAAE,KAAK;YACxB,MAAM,EAAE,KAAK;YACb,UAAU,EAAE,IAAI;YAChB,cAAc,EAAE,IAAI;YACpB,IAAI,EAAE,uBAAS,CAAC,aAAa;SAC9B,CAAC;QA8UJ,YAAC;KAAA,AAtVD,CAA2B,yBAAa,GAsVvC;IAtVY,sBAAK","sourcesContent":["import * as React from 'react';\n\nimport {\n  BaseComponent,\n  css,\n  divProperties,\n  getId,\n  getNativeProps,\n  getRTL,\n  createRef,\n  elementContains\n} from '../../Utilities';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { IPanel, IPanelProps, PanelType } from './Panel.types';\nimport { Layer } from '../Layer/Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../../Popup';\nimport { IconButton } from '../../Button';\nimport { AnimationClassNames, getTheme, IconFontSizes } from '../../Styling';\nimport * as stylesImport from './Panel.scss';\nconst styles: any = stylesImport;\nconst theme = getTheme();\n\nexport interface IPanelState {\n  isFooterSticky?: boolean;\n  isOpen?: boolean;\n  isAnimating?: boolean;\n  id?: string;\n}\n\nexport class Panel extends BaseComponent<IPanelProps, IPanelState> implements IPanel {\n\n  public static defaultProps: IPanelProps = {\n    isHiddenOnDismiss: false,\n    isOpen: false,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar,\n  };\n\n  private _panel = createRef<HTMLDivElement>();\n  private _content = createRef<HTMLDivElement>();\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    this._warnDeprecations({\n      'ignoreExternalFocusing': 'focusTrapZoneProps',\n      'forceFocusInsideTrap': 'focusTrapZoneProps',\n      'firstFocusableSelector': 'focusTrapZoneProps'\n    });\n\n    this.state = {\n      isFooterSticky: false,\n      isOpen: false,\n      isAnimating: false,\n      id: getId('Panel')\n    };\n  }\n\n  public componentDidMount(): void {\n    this._events.on(window, 'resize', this._updateFooterPosition);\n\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n\n    if (this.props.isOpen) {\n      this.open();\n    }\n  }\n\n  public componentDidUpdate(previousProps: IPanelProps): void {\n    const shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n    const previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  }\n\n  public componentWillReceiveProps(newProps: IPanelProps): void {\n    if (newProps.isOpen !== this.state.isOpen) {\n      if (newProps.isOpen) {\n        this.open();\n      } else {\n        this.dismiss();\n      }\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className = '',\n      elementToFocusOnDismiss,\n      firstFocusableSelector,\n      focusTrapZoneProps,\n      forceFocusInsideTrap,\n      hasCloseButton,\n      headerText,\n      ignoreExternalFocusing,\n      isBlocking,\n      isLightDismiss,\n      isHiddenOnDismiss,\n      layerProps,\n      type,\n      customWidth,\n      onLightDismissClick = this._onPanelClick,\n      onRenderNavigation = this._onRenderNavigation,\n      onRenderHeader = this._onRenderHeader,\n      onRenderBody = this._onRenderBody,\n      onRenderFooter = this._onRenderFooter\n    } = this.props;\n    const { isOpen, isAnimating, id } = this.state;\n    const isLeft = type === PanelType.smallFixedNear ? true : false;\n    const isRTL = getRTL();\n    const isOnRightSide = isRTL ? isLeft : !isLeft;\n    const headerTextId = headerText && id + '-headerText';\n    const customWidthStyles = (type === PanelType.custom) ? { width: customWidth } : {};\n    const nativeProps = getNativeProps(this.props, divProperties);\n\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n\n    let overlay;\n    if (isBlocking && isOpen) {\n      overlay = (\n        <Overlay\n          className={ css(\n            styles.overlay,\n            isOpen && isAnimating && AnimationClassNames.fadeIn200,\n            !isOpen && isAnimating && AnimationClassNames.fadeOut200\n          ) }\n          isDarkThemed={ false }\n          onClick={ isLightDismiss ? onLightDismissClick : undefined }\n        />\n      );\n    }\n\n    const header = onRenderHeader(this.props, this._onRenderHeader, headerTextId);\n\n    return (\n      <Layer { ...layerProps }>\n        <Popup\n          role='dialog'\n          ariaLabelledBy={ header ? headerTextId : undefined }\n          onDismiss={ this.dismiss }\n          className={\n            css(\n              !isOpen && !isAnimating && isHiddenOnDismiss && styles.hiddenPanel\n            )\n          }\n        >\n          <div\n            { ...nativeProps }\n            ref={ this._panel }\n            className={\n              css(\n                'ms-Panel',\n                styles.root,\n                className,\n                // because the RTL animations are not being used, we need to set a class\n                isOpen && ('is-open ' + styles.rootIsOpen),\n                type === PanelType.smallFluid && ('ms-Panel--smFluid ' + styles.rootIsSmallFluid),\n                type === PanelType.smallFixedNear && ('ms-Panel--smLeft ' + styles.rootIsSmallLeft),\n                type === PanelType.smallFixedFar && ('ms-Panel--sm ' + styles.rootIsSmall),\n                type === PanelType.medium && ('ms-Panel--md ' + styles.rootIsMedium),\n                (type === PanelType.large || type === PanelType.largeFixed) && ('ms-Panel--lg ' + styles.rootIsLarge),\n                type === PanelType.largeFixed && ('ms-Panel--fixed ' + styles.rootIsFixed),\n                type === PanelType.extraLarge && ('ms-Panel--xl ' + styles.rootIsXLarge),\n                type === PanelType.custom && ('ms-Panel--custom ' + styles.rootIsCustom),\n                hasCloseButton && ('ms-Panel--hasCloseButton ' + styles.rootHasCloseButton),\n                !isOpen && !isAnimating && isHiddenOnDismiss && styles.hiddenPanel\n              )\n            }\n          >\n            { overlay }\n            <FocusTrapZone\n              ignoreExternalFocusing={ ignoreExternalFocusing }\n              forceFocusInsideTrap={ isHiddenOnDismiss && !isOpen ? false : forceFocusInsideTrap }\n              firstFocusableSelector={ firstFocusableSelector }\n              isClickableOutsideFocusTrap={ true }\n              { ...focusTrapZoneProps }\n              className={\n                css(\n                  'ms-Panel-main',\n                  styles.main,\n                  isOpen && isAnimating && !isOnRightSide && AnimationClassNames.slideRightIn40,\n                  isOpen && isAnimating && isOnRightSide && AnimationClassNames.slideLeftIn40,\n                  !isOpen && isAnimating && !isOnRightSide && AnimationClassNames.slideLeftOut40,\n                  !isOpen && isAnimating && isOnRightSide && AnimationClassNames.slideRightOut40,\n                  focusTrapZoneProps ? focusTrapZoneProps.className : undefined\n                ) }\n              style={ customWidthStyles }\n              elementToFocusOnDismiss={ elementToFocusOnDismiss }\n            >\n              <div className={ css('ms-Panel-commands') } data-is-visible={ true } >\n                { onRenderNavigation(this.props, this._onRenderNavigation) }\n              </div>\n              <div className={ css('ms-Panel-contentInner', styles.contentInner) } >\n                { header }\n                { onRenderBody(this.props, this._onRenderBody) }\n                { onRenderFooter(this.props, this._onRenderFooter) }\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public open() {\n    if (!this.state.isOpen) {\n      this.setState({\n        isOpen: true,\n        isAnimating: true\n      }, () => {\n        this._async.setTimeout(this._onTransitionComplete, 200);\n      });\n    }\n  }\n\n  public dismiss = (): void => {\n    if (this.state.isOpen) {\n      this.setState({\n        isOpen: false,\n        isAnimating: true\n      }, () => {\n        this._async.setTimeout(this._onTransitionComplete, 200);\n      });\n\n      if (this.props.onDismiss) {\n        this.props.onDismiss();\n      }\n    }\n  }\n\n  private _shouldListenForOuterClick(props: IPanelProps): boolean {\n    return !!props.isBlocking && !!props.isOpen;\n  }\n\n  private _onRenderNavigation = (props: IPanelProps): JSX.Element | null => {\n    const {\n      closeButtonAriaLabel,\n      hasCloseButton\n    } = props;\n    if (hasCloseButton) {\n      return (\n        <div className={ css('ms-Panel-navigation', styles.navigation) } >\n          <IconButton\n            styles={\n              {\n                root: {\n                  height: 'auto',\n                  width: '44px',\n                  color: theme.palette.neutralSecondary,\n                  fontSize: IconFontSizes.large,\n                },\n                rootHovered: {\n                  color: theme.palette.neutralPrimary\n                }\n              }\n            }\n            className={ css('ms-Panel-closeButton ms-PanelAction-close') }\n            onClick={ this._onPanelClick }\n            ariaLabel={ closeButtonAriaLabel }\n            data-is-visible={ true }\n            iconProps={ { iconName: 'Cancel' } }\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n\n  private _onRenderHeader = (\n    props: IPanelProps,\n    defaultRender?: (props?: IPanelProps) => JSX.Element | null,\n    headerTextId?: string | undefined\n  ): JSX.Element | null => {\n    const {\n      headerText,\n      headerClassName = '',\n    } = props;\n\n    if (headerText) {\n      return (\n        <div className={ css('ms-Panel-header', styles.header) }>\n          <p\n            className={ css('ms-Panel-headerText', styles.headerText, headerClassName) }\n            id={ headerTextId }\n            role='heading'\n          >\n            { headerText }\n          </p>\n        </div>\n      );\n    }\n    return null;\n  }\n\n  private _onRenderBody = (props: IPanelProps): JSX.Element => {\n    const contentClass = css(\n      'ms-Panel-content',\n      styles.content,\n      props.isFooterAtBottom && styles.contentGrow\n    );\n\n    return (\n      <div ref={ this._content } className={ contentClass } data-is-scrollable={ true } >\n        { props.children }\n      </div>\n    );\n  }\n\n  private _onRenderFooter = (props: IPanelProps): JSX.Element | null => {\n    const { isFooterSticky } = this.state;\n    const { onRenderFooterContent = null } = this.props;\n    if (onRenderFooterContent) {\n      return (\n        <div className={ css('ms-Panel-footer', styles.footer, isFooterSticky && styles.footerIsSticky) } >\n          <div className={ css('ms-Panel-footerInner', styles.footerInner) }>\n            { onRenderFooterContent() }\n          </div>\n        </div>\n      );\n    }\n    return null;\n  }\n\n  private _updateFooterPosition(): void {\n    const _content = this._content.current;\n    if (_content) {\n      const height = _content.clientHeight;\n      const innerHeight = _content.scrollHeight;\n\n      this.setState({\n        isFooterSticky: height < innerHeight ? true : false\n      });\n    }\n  }\n\n  private _dismissOnOuterClick(ev: any): void {\n    const panel = this._panel.current;\n    if (this.state.isOpen && panel) {\n      if (!elementContains(panel, ev.target)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick();\n          ev.preventDefault();\n        } else {\n          this.dismiss();\n        }\n      }\n    }\n  }\n\n  private _onPanelClick = (): void => {\n    this.dismiss();\n  }\n\n  private _onTransitionComplete = (): void => {\n    this.setState({\n      isAnimating: false\n    });\n\n    if (!this.state.isOpen && this.props.onDismissed) {\n      this.props.onDismissed();\n    }\n  }\n}\n"]}